(function(){"use strict";const a=window.Vue;function w(){return window.panel}function W(){return w().api}const H=()=>window.panel.plugins.viewButtons!==void 0;function k(){function e(o){let s=!1;return new Promise(r=>{const i=w();i.dialog.open({component:"k-text-dialog",props:{text:o},on:{close:()=>{setTimeout(()=>{r(s)},25)},submit:()=>{s=!0,i.dialog.close()}}})})}function t(o){let s;return new Promise(r=>{const i=w();i.dialog.open({component:"k-form-dialog",props:o,on:{close:()=>{setTimeout(()=>{r(s)},25)},submit:d=>{s=d,i.dialog.close()}}})})}return{openTextDialog:e,openFieldsDialog:t}}function J(){const e=w();function t(o){return!o||typeof o=="string"?o:o[e.translation.code]??Object.values(o)[0]}return{t}}function X(){const e=W();return{load:({parent:o,name:s})=>e.get(`${o}/sections/${s}`)}}const Y=a.computed;a.customRef,a.defineAsyncComponent,a.defineComponent,a.effectScope,a.getCurrentInstance,a.getCurrentScope,a.h,a.inject,a.isProxy,a.isReactive,a.isReadonly,a.isRef,a.isShallow,a.markRaw,a.nextTick,a.onActivated,a.onBeforeMount,a.onBeforeUnmount,a.onBeforeUpdate,a.onDeactivated,a.onErrorCaptured,a.onMounted,a.onRenderTracked,a.onRenderTriggered,a.onScopeDispose,a.onServerPrefetch,a.onUnmounted,a.onUpdated,a.provide,a.proxyRefs,a.reactive,a.readonly;const R=a.ref;a.shallowReactive,a.shallowReadonly,a.shallowRef,a.toRaw,a.toRef,a.toRefs,a.triggerRef,a.unref,a.useAttrs,a.useCssModule,a.useCssVars,a.useListeners,a.useSlots;const Z=a.watch;a.watchEffect,a.watchPostEffect,a.watchSyncEffect;const ee={blueprint:String,lock:[Boolean,Object],help:String,name:String,parent:String,timestamp:Number};function te(e){return{all:e=e||new Map,on:function(t,o){var s=e.get(t);s?s.push(o):e.set(t,[o])},off:function(t,o){var s=e.get(t);s&&(o?s.splice(s.indexOf(o)>>>0,1):e.set(t,[]))},emit:function(t,o){var s=e.get(t);s&&s.slice().map(function(r){r(o)}),(s=e.get("*"))&&s.slice().map(function(r){r(t,o)})}}}const ne=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,oe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,se=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function re(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){ae(e);return}return t}function ae(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function ie(e,t={}){if(typeof e!="string")return e;const o=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return o.slice(1,-1);if(o.length<=9){const s=o.toLowerCase();if(s==="true")return!0;if(s==="false")return!1;if(s==="undefined")return;if(s==="null")return null;if(s==="nan")return Number.NaN;if(s==="infinity")return Number.POSITIVE_INFINITY;if(s==="-infinity")return Number.NEGATIVE_INFINITY}if(!se.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(ne.test(e)||oe.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,re)}return JSON.parse(e)}catch(s){if(t.strict)throw s;return e}}const ce=/#/g,ue=/&/g,le=/\//g,pe=/=/g,$=/\+/g,fe=/%5e/gi,de=/%60/gi,he=/%7c/gi,ge=/%20/gi;function ye(e){return encodeURI(""+e).replace(he,"|")}function F(e){return ye(typeof e=="string"?e:JSON.stringify(e)).replace($,"%2B").replace(ge,"+").replace(ce,"%23").replace(ue,"%26").replace(de,"`").replace(fe,"^").replace(le,"%2F")}function j(e){return F(e).replace(pe,"%3D")}function I(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function me(e){return I(e.replace($," "))}function be(e){return I(e.replace($," "))}function we(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const o of e.split("&")){const s=o.match(/([^=]+)=?(.*)/)||[];if(s.length<2)continue;const r=me(s[1]);if(r==="__proto__"||r==="constructor")continue;const i=be(s[2]||"");t[r]===void 0?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]}return t}function _e(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(o=>`${j(e)}=${F(o)}`).join("&"):`${j(e)}=${F(t)}`:j(e)}function Re(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>_e(t,e[t])).filter(Boolean).join("&")}const Te=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Le=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Ae=/^([/\\]\s*){2,}[^/\\]/,Ee=/^\.?\//;function U(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?Te.test(e):Le.test(e)||(t.acceptRelative?Ae.test(e):!1)}function ve(e="",t){return e.endsWith("/")}function Pe(e="",t){return(ve(e)?e.slice(0,-1):e)||"/"}function Ce(e="",t){return e.endsWith("/")?e:e+"/"}function Se(e,t){if($e(t)||U(e))return e;const o=Pe(t);return e.startsWith(o)?e:je(o,e)}function De(e,t){const o=Ne(e),s={...we(o.search),...t};return o.search=Re(s),Oe(o)}function $e(e){return!e||e==="/"}function Fe(e){return e&&e!=="/"}function je(e,...t){let o=e||"";for(const s of t.filter(r=>Fe(r)))if(o){const r=s.replace(Ee,"");o=Ce(o)+r}else o=s;return o}const x=Symbol.for("ufo:protocolRelative");function Ne(e="",t){const o=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(o){const[,u,p=""]=o;return{protocol:u.toLowerCase(),pathname:p,href:u+p,auth:"",host:"",search:"",hash:""}}if(!U(e,{acceptRelative:!0}))return M(e);const[,s="",r,i=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,d="",c=""]=i.match(/([^#/?]*)(.*)?/)||[];s==="file:"&&(c=c.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:f,search:h,hash:n}=M(c);return{protocol:s.toLowerCase(),auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:d,pathname:f,search:h,hash:n,[x]:!s}}function M(e=""){const[t="",o="",s=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:o,hash:s}}function Oe(e){const t=e.pathname||"",o=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",s=e.hash||"",r=e.auth?e.auth+"@":"",i=e.host||"";return(e.protocol||e[x]?(e.protocol||"")+"//":"")+r+i+t+o+s}class ke extends Error{constructor(t,o){super(t,o),this.name="FetchError",o!=null&&o.cause&&!this.cause&&(this.cause=o.cause)}}function Ie(e){var f,h,n,u,p;const t=((f=e.error)==null?void 0:f.message)||((h=e.error)==null?void 0:h.toString())||"",o=((n=e.request)==null?void 0:n.method)||((u=e.options)==null?void 0:u.method)||"GET",s=((p=e.request)==null?void 0:p.url)||String(e.request)||"/",r=`[${o}] ${JSON.stringify(s)}`,i=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",d=`${r}: ${i}${t?` ${t}`:""}`,c=new ke(d,e.error?{cause:e.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(c,l,{get(){return e[l]}});for(const[l,g]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(c,l,{get(){return e.response&&e.response[g]}});return c}const Ue=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function q(e="GET"){return Ue.has(e.toUpperCase())}function xe(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const Me=new Set(["image/svg","application/xml","application/xhtml","application/html"]),qe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Be(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return qe.test(t)?"json":Me.has(t)||t.startsWith("text/")?"text":"blob"}function Ve(e,t,o,s){const r=ze((t==null?void 0:t.headers)??(e==null?void 0:e.headers),o==null?void 0:o.headers,s);let i;return(o!=null&&o.query||o!=null&&o.params||t!=null&&t.params||t!=null&&t.query)&&(i={...o==null?void 0:o.params,...o==null?void 0:o.query,...t==null?void 0:t.params,...t==null?void 0:t.query}),{...o,...t,query:i,params:i,headers:r}}function ze(e,t,o){if(!t)return new o(e);const s=new o(t);if(e)for(const[r,i]of Symbol.iterator in e||Array.isArray(e)?e:new o(e))s.set(r,i);return s}async function v(e,t){if(t)if(Array.isArray(t))for(const o of t)await o(e);else await t(e)}const Qe=new Set([408,409,425,429,500,502,503,504]),Ge=new Set([101,204,205,304]);function B(e={}){const{fetch:t=globalThis.fetch,Headers:o=globalThis.Headers,AbortController:s=globalThis.AbortController}=e;async function r(c){const f=c.error&&c.error.name==="AbortError"&&!c.options.timeout||!1;if(c.options.retry!==!1&&!f){let n;typeof c.options.retry=="number"?n=c.options.retry:n=q(c.options.method)?0:1;const u=c.response&&c.response.status||500;if(n>0&&(Array.isArray(c.options.retryStatusCodes)?c.options.retryStatusCodes.includes(u):Qe.has(u))){const p=typeof c.options.retryDelay=="function"?c.options.retryDelay(c):c.options.retryDelay||0;return p>0&&await new Promise(l=>setTimeout(l,p)),i(c.request,{...c.options,retry:n-1})}}const h=Ie(c);throw Error.captureStackTrace&&Error.captureStackTrace(h,i),h}const i=async function(f,h={}){const n={request:f,options:Ve(f,h,e.defaults,o),response:void 0,error:void 0};n.options.method&&(n.options.method=n.options.method.toUpperCase()),n.options.onRequest&&await v(n,n.options.onRequest),typeof n.request=="string"&&(n.options.baseURL&&(n.request=Se(n.request,n.options.baseURL)),n.options.query&&(n.request=De(n.request,n.options.query),delete n.options.query),"query"in n.options&&delete n.options.query,"params"in n.options&&delete n.options.params),n.options.body&&q(n.options.method)&&(xe(n.options.body)?(n.options.body=typeof n.options.body=="string"?n.options.body:JSON.stringify(n.options.body),n.options.headers=new o(n.options.headers||{}),n.options.headers.has("content-type")||n.options.headers.set("content-type","application/json"),n.options.headers.has("accept")||n.options.headers.set("accept","application/json")):("pipeTo"in n.options.body&&typeof n.options.body.pipeTo=="function"||typeof n.options.body.pipe=="function")&&("duplex"in n.options||(n.options.duplex="half")));let u;if(!n.options.signal&&n.options.timeout){const l=new s;u=setTimeout(()=>{const g=new Error("[TimeoutError]: The operation was aborted due to timeout");g.name="TimeoutError",g.code=23,l.abort(g)},n.options.timeout),n.options.signal=l.signal}try{n.response=await t(n.request,n.options)}catch(l){return n.error=l,n.options.onRequestError&&await v(n,n.options.onRequestError),await r(n)}finally{u&&clearTimeout(u)}if((n.response.body||n.response._bodyInit)&&!Ge.has(n.response.status)&&n.options.method!=="HEAD"){const l=(n.options.parseResponse?"json":n.options.responseType)||Be(n.response.headers.get("content-type")||"");switch(l){case"json":{const g=await n.response.text(),_=n.options.parseResponse||ie;n.response._data=_(g);break}case"stream":{n.response._data=n.response.body||n.response._bodyInit;break}default:n.response._data=await n.response[l]()}}return n.options.onResponse&&await v(n,n.options.onResponse),!n.options.ignoreResponseError&&n.response.status>=400&&n.response.status<600?(n.options.onResponseError&&await v(n,n.options.onResponseError),await r(n)):n.response},d=async function(f,h){return(await i(f,h))._data};return d.raw=i,d.native=(...c)=>t(...c),d.create=(c={},f={})=>B({...e,...f,defaults:{...e.defaults,...f.defaults,...c}}),d}const P=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),Ke=P.fetch?(...e)=>P.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),We=P.Headers,He=P.AbortController,Je=B({fetch:Ke,Headers:We,AbortController:He}),Xe="__lingohub__/context",Ye="__lingohub__/model-context",Ze="__lingohub__/export",et="__lingohub__/import",C=new Map;let V=!1;function z(){const e=w(),t=e.languages.find(s=>s.default);V||(e.events.on("page.changeSlug",()=>{C.delete(e.view.path)}),V=!0);async function o(){const{path:s}=e.view;if(C.has(s))return C.get(s);const r=await e.api.get(s,{select:["id","blueprint"],language:t.code},void 0,!0);return C.set(s,r),r}return{getDefaultLanguageData:o}}let S,E;function D(){return S||E||(E=window.panel.api.get(Xe).then(e=>(S=e,E=void 0,S)),E)}const tt=te();function N(){const e=w(),{getDefaultLanguageData:t}=z(),o=async()=>Je.create({baseURL:"https://api.lingohub.com/v1",headers:{Authorization:`Bearer ${(await D()).config.apiKey}`}});async function s(n){var L,A;const{languages:u}=await D(),p=await t();let l=((A=(L=u==null?void 0:u[n])==null?void 0:L.locale)==null?void 0:A[0])??n;l=l.replace("_","-"),l=l.replace(/\.utf-?8$/i,"");let g=p.blueprint.name;(g.startsWith("pages/")||g.startsWith("files/"))&&(g=g.substring(6));const _=`${g}_${l}.json`,m=`${p.id}/${_}`;return{filename:_,resourcePath:m}}async function r(){if(!await h())return;const{config:n}=await D(),u=await o();try{return await u(`${n.workspaceId}/projects/${n.projectId}/status`)}catch(p){console.error(p),e.notification.error(p.message)}}async function i(n,u){var g;const{resourcePath:p}=await s(u),l=(g=n==null?void 0:n.resourceFiles)==null?void 0:g.find(_=>_.files.some(m=>m.name===p));return(l==null?void 0:l.files)??[]}async function d(n,u){const{resourcePath:p}=await s(u);return(await i(n,u)).find(g=>g.name===p)}async function c(n){const u=await t();await e.api.post(Ze,{id:u.id??"site",languageCode:n},void 0,!0)}async function f(n,u){const p=await t();await e.api.post(et,{id:p.id??"site",languageCode:n,targetStatus:u},void 0,!0)}async function h(){const n=await D();try{if(e.multilang)if(n.config.apiKey){for(const u of["workspaceId","projectId"])if(typeof n.config[u]!="string"||!n.config[u])throw new TypeError(`Missing "johannschopplich.lingohub.${u}" plugin option.`)}else throw new Error('Missing API key in the "johannschopplich.lingohub.apiKey" plugin option.');else throw new Error("The Lingohub plugin requires a multi-language Kirby installation.");return!0}catch(u){return console.error(u),e.notification.error(u.message),!1}}return{emitter:tt,getTranslationStatus:r,getTranslationResources:i,getTranslationResourceFile:d,uploadTranslation:c,downloadTranslation:f}}function O(e,t,o,s,r,i,d,c){var f=typeof e=="function"?e.options:e;return t&&(f.render=t,f.staticRenderFns=o,f._compiled=!0),{exports:e,options:f}}const Q={...ee},nt=Object.assign({inheritAttrs:!1},{__name:"LingohubStatus",props:Q,setup(e){const t=e,o=w(),{t:s}=J(),{getTranslationStatus:r,getTranslationResources:i}=N(),d=R(),c=R(),f={languageCode:{label:"Language Code",type:"text"},approved:{label:"Approved",type:"number"},draft:{label:"Draft",type:"number"},notTranslated:{label:"Not translated",type:"number"},translated:{label:"Translated",type:"number"},failedChecks:{label:"Failed Quality Checks",type:"number"},lastUpdated:{label:"Last updated at",type:"date"}},h=Y(()=>(c.value??[]).map(n=>({languageCode:n.languageCode,approved:n.statuses.APPROVED,draft:n.statuses.DRAFT,notTranslated:n.statuses.NOT_TRANSLATED,translated:n.statuses.TRANSLATED,failedChecks:n.failingLingochecksCount,lastUpdated:n.segmentsUpdatedAt})));return(async()=>{const{load:n}=X(),u=await n({parent:t.parent,name:t.name});d.value=s(u.label)||o.t("johannschopplich.lingohub.statusLabel");const p=await r();c.value=await i(p,o.language.code)})(),{__sfc:!0,propsDefinition:Q,props:t,panel:o,t:s,getTranslationStatus:r,getTranslationResources:i,label:d,resourceFiles:c,tableColumns:f,tableRows:h}}});var ot=function(){var t=this,o=t._self._c,s=t._self._setupProxy;return o("k-section",{attrs:{label:s.label}},[o("k-box",{attrs:{theme:"none"}},[o("k-table",{attrs:{columns:s.tableColumns,rows:s.tableRows}})],1)],1)},st=[],rt=O(nt,ot,st);const at=rt.exports,it=Object.assign({inheritAttrs:!1},{__name:"LingohubDropdownContent",setup(e){const t=w(),{openFieldsDialog:o}=k(),{getDefaultLanguageData:s}=z(),{emitter:r,getTranslationStatus:i,getTranslationResourceFile:d,uploadTranslation:c,downloadTranslation:f}=N(),h=t.languages.find(m=>m.default),n=t.languages.filter(m=>!m.default),u=R(),p=(async()=>{const m=await s();u.value=await t.api.post(Ye,{id:m.id??"site"})})();async function l(m){await p,m==null||m()}async function g(){const{availableTranslationLanguageCodes:m}=u.value;t.view.isLoading=!0;const L=await i(),A=(await Promise.all(m.map(async y=>{const b=await d(L,y);if(!(b&&(b.statuses.TRANSLATED>0||b.statuses.DRAFT>0||b.statuses.APPROVED>0)))return y}))).filter(Boolean),T=await o({submitButton:{icon:"upload",theme:"positive",text:t.t("johannschopplich.lingohub.upload")},fields:{sourceLanguage:{type:"checkboxes",label:t.t("johannschopplich.lingohub.sourceLanguage"),options:[{value:h.code,text:h.name}]},targetLanguages:m.length>0?{type:"checkboxes",label:t.t("johannschopplich.lingohub.targetLanguages"),options:m.map(y=>{var b;return{value:y,text:((b=t.languages.find(K=>K.code===y))==null?void 0:b.name)??y}})}:{type:"info",theme:"empty",label:t.t("johannschopplich.lingohub.targetLanguages"),text:t.t("johannschopplich.lingohub.emptyKirbyTranslations")}},value:{sourceLanguage:[h.code],targetLanguages:A}});if(T){t.view.isLoading=!0;try{for(const y of[...T.sourceLanguage,...T.targetLanguages])await c(y);r.emit("translationUpdate"),t.notification.success(t.t("johannschopplich.lingohub.success.upload"))}catch(y){console.error(y),t.notification.error(y.message)}finally{t.view.isLoading=!1}}}async function _(){const m=await i(),L=await d(m,h.code),A=(await Promise.all(n.map(async y=>{const b=await d(m,y.code);if(b&&b.statuses.APPROVED>=L.statuses.APPROVED)return y.code}))).filter(Boolean),T=await o({submitButton:{icon:"import",theme:"positive",text:t.t("johannschopplich.lingohub.download")},fields:{status:{type:"select",label:t.t("johannschopplich.lingohub.status"),options:[{value:"ALL",text:"All"},{value:"TRANSLATED_AND_APPROVED",text:"Translated and approved"},{value:"APPROVED",text:"Approved"}]},languages:{type:"checkboxes",label:t.t("johannschopplich.lingohub.languages"),options:n.map(y=>({value:y.code,text:y.name}))}},value:{status:"APPROVED",languages:A}});if(T){t.view.isLoading=!0;try{for(const y of T.languages)await f(y,T.status);await t.view.reload(),r.emit("translationUpdate"),t.notification.success(t.t("johannschopplich.lingohub.success.download"))}catch(y){t.view.isLoading=!1,console.error(y),t.notification.error(y.message)}}}return{__sfc:!0,panel:t,openFieldsDialog:o,getDefaultLanguageData:s,emitter:r,getTranslationStatus:i,getTranslationResourceFile:d,uploadTranslation:c,downloadTranslation:f,defaultLanguage:h,translationLanguages:n,modelContext:u,initializationPromise:p,invokeWhenInitialized:l,uploadTranslations:g,downloadTranslations:_}}});var ct=function(){var t=this,o=t._self._c,s=t._self._setupProxy;return o("div",[o("k-dropdown-item",{attrs:{icon:"lingohub-upload-cloud"},on:{click:function(r){return s.invokeWhenInitialized(s.uploadTranslations)}}},[t._v(" "+t._s(s.panel.t("johannschopplich.lingohub.upload"))+" ")]),o("hr"),o("k-dropdown-item",{attrs:{icon:"lingohub-download-cloud"},on:{click:function(r){return s.invokeWhenInitialized(s.downloadTranslations)}}},[t._v(" "+t._s(s.panel.t("johannschopplich.lingohub.download"))+" ")])],1)},ut=[],lt=O(it,ct,ut);const pt=lt.exports,ft={__name:"LingohubButtonGroup",setup(e){const t=w(),{openFieldsDialog:o}=k(),{emitter:s,getTranslationStatus:r,getTranslationResourceFile:i}=N(),d=t.languages.find(l=>l.default);d||t.notification.error("The default language could not be found. Please make sure to set a default language in your Kirby installation.");const c=R(!0),f=R(!1),h=R(),n=R();Z(()=>[t.view.path,t.language.code],([l])=>{l.startsWith("pages/")&&p()},{immediate:!0}),s.on("translationUpdate",()=>{setTimeout(p,2e3)});function u(){h.value.toggle()}async function p(){const l=await r(),g=await i(l,d.code);n.value=await i(l,t.language.code),f.value=g&&n.value?n.value.statuses.APPROVED>=g.statuses.APPROVED:void 0,c.value=!1}return{__sfc:!0,panel:t,openFieldsDialog:o,emitter:s,getTranslationStatus:r,getTranslationResourceFile:i,defaultLanguage:d,isLoading:c,isApproved:f,dropdownContent:h,currentLanguageResourceFile:n,toggle:u,loadLingohubData:p,LingohubDropdownContent:pt}}};var dt=function(){var t=this,o=t._self._c,s=t._self._setupProxy;return o("k-button-group",{attrs:{layout:"collapsed"}},[o("k-button",{attrs:{text:s.isLoading?void 0:s.isApproved?s.panel.t("johannschopplich.lingohub.status.approved"):s.currentLanguageResourceFile?s.panel.t("johannschopplich.lingohub.status.inTranslation"):s.panel.t("johannschopplich.lingohub.status.notUploaded"),icon:s.isLoading?"loader":s.isApproved?"check":s.currentLanguageResourceFile?"info":"question",responsive:"",theme:s.isLoading?void 0:s.isApproved?"positive":s.currentLanguageResourceFile?"blue-icon":"notice-icon",variant:"filled",size:"sm"},on:{click:function(r){s.currentLanguageResourceFile&&s.openFieldsDialog({submitButton:s.panel.t("confirm"),fields:{languageCode:{type:"info",label:"Language Code",text:s.currentLanguageResourceFile.languageCode},approved:{type:"info",theme:"white",label:"Approved",text:`${s.currentLanguageResourceFile.statuses.APPROVED}`},draft:{type:"info",theme:"white",label:"Draft",text:`${s.currentLanguageResourceFile.statuses.DRAFT}`},notTranslated:{type:"info",theme:"white",label:"Not Translated",text:`${s.currentLanguageResourceFile.statuses.NOT_TRANSLATED}`},translated:{type:"info",theme:"white",label:"Translated",text:`${s.currentLanguageResourceFile.statuses.TRANSLATED}`},failedChecks:{type:"info",theme:"white",label:"Failed Quality Checks",text:`${s.currentLanguageResourceFile.failingLingochecksCount}`},lastUpdated:{type:"date",label:"Last Updated At",time:!1,disabled:!0}},value:{lastUpdated:s.currentLanguageResourceFile.segmentsUpdatedAt}})}}}),o("k-button",{attrs:{dropdown:!0,text:s.panel.t("johannschopplich.lingohub.label"),icon:"lingohub-global",responsive:"text",variant:"filled",size:"sm"},on:{click:function(r){return s.toggle()}}}),o("k-dropdown-content",{ref:"dropdownContent"},[o(s.LingohubDropdownContent)],1)],1)},ht=[],gt=O(ft,dt,ht);const G=gt.exports,yt={"lingohub-global":'<path fill="currentColor" d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m-2.29-2.333A17.9 17.9 0 0 1 8.027 13H4.062a8.01 8.01 0 0 0 5.648 6.667M10.03 13c.151 2.439.848 4.73 1.97 6.752A15.9 15.9 0 0 0 13.97 13zm9.908 0h-3.965a17.9 17.9 0 0 1-1.683 6.667A8.01 8.01 0 0 0 19.938 13M4.062 11h3.965A17.9 17.9 0 0 1 9.71 4.333A8.01 8.01 0 0 0 4.062 11m5.969 0h3.938A15.9 15.9 0 0 0 12 4.248A15.9 15.9 0 0 0 10.03 11m4.259-6.667A17.9 17.9 0 0 1 15.973 11h3.965a8.01 8.01 0 0 0-5.648-6.667" />',"lingohub-upload-cloud":'<path fill="currentColor" d="m12 12.586l4.243 4.242l-1.415 1.415L13 16.415V22h-2v-5.587l-1.828 1.83l-1.415-1.415zM12 2a7 7 0 0 1 6.954 6.194A5.5 5.5 0 0 1 18 18.978v-2.014a3.5 3.5 0 1 0-1.111-6.91a5 5 0 1 0-9.777 0a3.5 3.5 0 0 0-1.292 6.88l.18.03v2.014a5.5 5.5 0 0 1-.954-10.784A7 7 0 0 1 12 2" />',"lingohub-download-cloud":'<path fill="currentColor" d="M13 13v5.585l1.828-1.828l1.415 1.415L12 22.414l-4.243-4.242l1.415-1.415L11 18.585V13zM12 2a7 7 0 0 1 6.954 6.194A5.5 5.5 0 0 1 18 18.978v-2.014a3.5 3.5 0 1 0-1.111-6.91a5 5 0 1 0-9.777 0a3.5 3.5 0 0 0-1.292 6.88l.18.03v2.014a5.5 5.5 0 0 1-.954-10.784A7 7 0 0 1 12 2" />'};function mt(e){H()||e.mixin({mounted(){if(this.$options.name!=="k-header")return;const{panel:t}=window;if(!t.multilang||!t.view.path.startsWith("pages/"))return;const o=this.$children.find(i=>i.$options.name==="k-button-group");if(!o)return;const s=new e({render:i=>i(G)}).$mount(),r=o.$el.querySelector(".k-languages-dropdown");r&&(r.before(s.$el),this.$forceUpdate())}})}window.panel.plugin("johannschopplich/lingohub",{sections:{"lingohub-status":at},viewButtons:{lingohub:G},icons:yt,use:[mt]})})();
