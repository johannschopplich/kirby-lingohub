(function(){"use strict";const a=window.Vue;function _(){return window.panel}function H(){return _().api}const J=()=>window.panel.plugins.viewButtons!==void 0;function I(){function e(n){let s=!1;return new Promise(r=>{const c=_();c.dialog.open({component:"k-text-dialog",props:{text:n},on:{close:()=>{setTimeout(()=>{r(s)},25)},submit:()=>{s=!0,c.dialog.close()}}})})}function t(n){let s;return new Promise(r=>{const c=_();c.dialog.open({component:"k-form-dialog",props:n,on:{close:()=>{setTimeout(()=>{r(s)},25)},submit:h=>{s=h,c.dialog.close()}}})})}return{openTextDialog:e,openFieldsDialog:t}}function X(){const e=_();function t(n){return!n||typeof n=="string"?n:n[e.translation.code]??Object.values(n)[0]}return{t}}function Y(){const e=H();return{load:({parent:n,name:s})=>e.get(`${n}/sections/${s}`)}}const Z=a.computed;a.customRef,a.defineAsyncComponent,a.defineComponent,a.effectScope,a.getCurrentInstance,a.getCurrentScope,a.h,a.inject,a.isProxy,a.isReactive,a.isReadonly,a.isRef,a.isShallow,a.markRaw,a.nextTick,a.onActivated,a.onBeforeMount,a.onBeforeUnmount,a.onBeforeUpdate,a.onDeactivated,a.onErrorCaptured,a.onMounted,a.onRenderTracked,a.onRenderTriggered,a.onScopeDispose,a.onServerPrefetch,a.onUnmounted,a.onUpdated,a.provide,a.proxyRefs,a.reactive,a.readonly;const w=a.ref;a.shallowReactive,a.shallowReadonly,a.shallowRef,a.toRaw,a.toRef,a.toRefs,a.triggerRef,a.unref,a.useAttrs,a.useCssModule,a.useCssVars,a.useListeners,a.useSlots;const U=a.watch;a.watchEffect,a.watchPostEffect,a.watchSyncEffect;const ee={blueprint:String,lock:[Boolean,Object],help:String,name:String,parent:String,timestamp:Number};function te(e){return{all:e=e||new Map,on:function(t,n){var s=e.get(t);s?s.push(n):e.set(t,[n])},off:function(t,n){var s=e.get(t);s&&(n?s.splice(s.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var s=e.get(t);s&&s.slice().map(function(r){r(n)}),(s=e.get("*"))&&s.slice().map(function(r){r(t,n)})}}}const oe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ne=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,se=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function re(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){ae(e);return}return t}function ae(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function ie(e,t={}){if(typeof e!="string")return e;const n=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const s=n.toLowerCase();if(s==="true")return!0;if(s==="false")return!1;if(s==="undefined")return;if(s==="null")return null;if(s==="nan")return Number.NaN;if(s==="infinity")return Number.POSITIVE_INFINITY;if(s==="-infinity")return Number.NEGATIVE_INFINITY}if(!se.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(oe.test(e)||ne.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,re)}return JSON.parse(e)}catch(s){if(t.strict)throw s;return e}}const ce=/#/g,ue=/&/g,le=/\//g,pe=/=/g,D=/\+/g,fe=/%5e/gi,de=/%60/gi,he=/%7c/gi,ge=/%20/gi;function ye(e){return encodeURI(""+e).replace(he,"|")}function F(e){return ye(typeof e=="string"?e:JSON.stringify(e)).replace(D,"%2B").replace(ge,"+").replace(ce,"%23").replace(ue,"%26").replace(de,"`").replace(fe,"^").replace(le,"%2F")}function j(e){return F(e).replace(pe,"%3D")}function x(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function me(e){return x(e.replace(D," "))}function _e(e){return x(e.replace(D," "))}function be(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const n of e.split("&")){const s=n.match(/([^=]+)=?(.*)/)||[];if(s.length<2)continue;const r=me(s[1]);if(r==="__proto__"||r==="constructor")continue;const c=_e(s[2]||"");t[r]===void 0?t[r]=c:Array.isArray(t[r])?t[r].push(c):t[r]=[t[r],c]}return t}function we(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${j(e)}=${F(n)}`).join("&"):`${j(e)}=${F(t)}`:j(e)}function Re(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>we(t,e[t])).filter(Boolean).join("&")}const Te=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Ae=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Ee=/^([/\\]\s*){2,}[^/\\]/,Le=/^\.?\//;function M(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?Te.test(e):Ae.test(e)||(t.acceptRelative?Ee.test(e):!1)}function ve(e="",t){return e.endsWith("/")}function Pe(e="",t){return(ve(e)?e.slice(0,-1):e)||"/"}function Ce(e="",t){return e.endsWith("/")?e:e+"/"}function Se(e,t){if(De(t)||M(e))return e;const n=Pe(t);return e.startsWith(n)?e:je(n,e)}function $e(e,t){const n=Ne(e),s={...be(n.search),...t};return n.search=Re(s),Oe(n)}function De(e){return!e||e==="/"}function Fe(e){return e&&e!=="/"}function je(e,...t){let n=e||"";for(const s of t.filter(r=>Fe(r)))if(n){const r=s.replace(Le,"");n=Ce(n)+r}else n=s;return n}const q=Symbol.for("ufo:protocolRelative");function Ne(e="",t){const n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,p,f=""]=n;return{protocol:p.toLowerCase(),pathname:f,href:p+f,auth:"",host:"",search:"",hash:""}}if(!M(e,{acceptRelative:!0}))return B(e);const[,s="",r,c=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,h="",i=""]=c.match(/([^#/?]*)(.*)?/)||[];s==="file:"&&(i=i.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:d,search:l,hash:o}=B(i);return{protocol:s.toLowerCase(),auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:h,pathname:d,search:l,hash:o,[q]:!s}}function B(e=""){const[t="",n="",s=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:s}}function Oe(e){const t=e.pathname||"",n=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",s=e.hash||"",r=e.auth?e.auth+"@":"",c=e.host||"";return(e.protocol||e[q]?(e.protocol||"")+"//":"")+r+c+t+n+s}class ke extends Error{constructor(t,n){super(t,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function Ie(e){var d,l,o,p,f;const t=((d=e.error)==null?void 0:d.message)||((l=e.error)==null?void 0:l.toString())||"",n=((o=e.request)==null?void 0:o.method)||((p=e.options)==null?void 0:p.method)||"GET",s=((f=e.request)==null?void 0:f.url)||String(e.request)||"/",r=`[${n}] ${JSON.stringify(s)}`,c=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",h=`${r}: ${c}${t?` ${t}`:""}`,i=new ke(h,e.error?{cause:e.error}:void 0);for(const u of["request","options","response"])Object.defineProperty(i,u,{get(){return e[u]}});for(const[u,g]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(i,u,{get(){return e.response&&e.response[g]}});return i}const Ue=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function V(e="GET"){return Ue.has(e.toUpperCase())}function xe(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const Me=new Set(["image/svg","application/xml","application/xhtml","application/html"]),qe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Be(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return qe.test(t)?"json":Me.has(t)||t.startsWith("text/")?"text":"blob"}function Ve(e,t,n,s){const r=Qe((t==null?void 0:t.headers)??(e==null?void 0:e.headers),n==null?void 0:n.headers,s);let c;return(n!=null&&n.query||n!=null&&n.params||t!=null&&t.params||t!=null&&t.query)&&(c={...n==null?void 0:n.params,...n==null?void 0:n.query,...t==null?void 0:t.params,...t==null?void 0:t.query}),{...n,...t,query:c,params:c,headers:r}}function Qe(e,t,n){if(!t)return new n(e);const s=new n(t);if(e)for(const[r,c]of Symbol.iterator in e||Array.isArray(e)?e:new n(e))s.set(r,c);return s}async function E(e,t){if(t)if(Array.isArray(t))for(const n of t)await n(e);else await t(e)}const ze=new Set([408,409,425,429,500,502,503,504]),Ge=new Set([101,204,205,304]);function Q(e={}){const{fetch:t=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:s=globalThis.AbortController}=e;async function r(i){const d=i.error&&i.error.name==="AbortError"&&!i.options.timeout||!1;if(i.options.retry!==!1&&!d){let o;typeof i.options.retry=="number"?o=i.options.retry:o=V(i.options.method)?0:1;const p=i.response&&i.response.status||500;if(o>0&&(Array.isArray(i.options.retryStatusCodes)?i.options.retryStatusCodes.includes(p):ze.has(p))){const f=typeof i.options.retryDelay=="function"?i.options.retryDelay(i):i.options.retryDelay||0;return f>0&&await new Promise(u=>setTimeout(u,f)),c(i.request,{...i.options,retry:o-1})}}const l=Ie(i);throw Error.captureStackTrace&&Error.captureStackTrace(l,c),l}const c=async function(d,l={}){const o={request:d,options:Ve(d,l,e.defaults,n),response:void 0,error:void 0};o.options.method&&(o.options.method=o.options.method.toUpperCase()),o.options.onRequest&&await E(o,o.options.onRequest),typeof o.request=="string"&&(o.options.baseURL&&(o.request=Se(o.request,o.options.baseURL)),o.options.query&&(o.request=$e(o.request,o.options.query),delete o.options.query),"query"in o.options&&delete o.options.query,"params"in o.options&&delete o.options.params),o.options.body&&V(o.options.method)&&(xe(o.options.body)?(o.options.body=typeof o.options.body=="string"?o.options.body:JSON.stringify(o.options.body),o.options.headers=new n(o.options.headers||{}),o.options.headers.has("content-type")||o.options.headers.set("content-type","application/json"),o.options.headers.has("accept")||o.options.headers.set("accept","application/json")):("pipeTo"in o.options.body&&typeof o.options.body.pipeTo=="function"||typeof o.options.body.pipe=="function")&&("duplex"in o.options||(o.options.duplex="half")));let p;if(!o.options.signal&&o.options.timeout){const u=new s;p=setTimeout(()=>{const g=new Error("[TimeoutError]: The operation was aborted due to timeout");g.name="TimeoutError",g.code=23,u.abort(g)},o.options.timeout),o.options.signal=u.signal}try{o.response=await t(o.request,o.options)}catch(u){return o.error=u,o.options.onRequestError&&await E(o,o.options.onRequestError),await r(o)}finally{p&&clearTimeout(p)}if((o.response.body||o.response._bodyInit)&&!Ge.has(o.response.status)&&o.options.method!=="HEAD"){const u=(o.options.parseResponse?"json":o.options.responseType)||Be(o.response.headers.get("content-type")||"");switch(u){case"json":{const g=await o.response.text(),R=o.options.parseResponse||ie;o.response._data=R(g);break}case"stream":{o.response._data=o.response.body||o.response._bodyInit;break}default:o.response._data=await o.response[u]()}}return o.options.onResponse&&await E(o,o.options.onResponse),!o.options.ignoreResponseError&&o.response.status>=400&&o.response.status<600?(o.options.onResponseError&&await E(o,o.options.onResponseError),await r(o)):o.response},h=async function(d,l){return(await c(d,l))._data};return h.raw=c,h.native=(...i)=>t(...i),h.create=(i={},d={})=>Q({...e,...d,defaults:{...e.defaults,...d.defaults,...i}}),h}const L=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),We=L.fetch?(...e)=>L.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Ke=L.Headers,He=L.AbortController,Je=Q({fetch:We,Headers:Ke,AbortController:He}),Xe="__lingohub__/context",Ye="__lingohub__/model-context",Ze="__lingohub__/export",et="__lingohub__/import",v=new Map;let z=!1;function G(){const e=_(),t=e.languages.find(s=>s.default);z||(e.events.on("page.changeSlug",()=>{v.delete(e.view.path)}),z=!0);async function n(){const{path:s}=e.view;if(v.has(s))return v.get(s);const r=await e.api.get(s,{select:["id","blueprint"],language:t.code},void 0,!0);return v.set(s,r),r}return{getDefaultLanguageData:n}}let P,A;function C(){return P||A||(A=window.panel.api.get(Xe).then(e=>(P=e,A=void 0,P)),A)}const tt=te();function N(){const e=_(),{getDefaultLanguageData:t}=G(),n=async()=>Je.create({baseURL:"https://api.lingohub.com/v1",headers:{Authorization:`Bearer ${(await C()).config.apiKey}`}});async function s(l){var S,y;const{languages:o}=await C(),p=await t();let f=((y=(S=o==null?void 0:o[l])==null?void 0:S.locale)==null?void 0:y[0])??l;f=f.replace("_","-"),f=f.replace(/\.utf-?8$/i,"");let u=p.blueprint.name;(u.startsWith("pages/")||u.startsWith("files/"))&&(u=u.substring(6));const g=`${u}_${f}.json`,R=`${p.id}/${g}`;return{filename:g,resourcePath:R}}async function r(){const{config:l}=await C(),o=await n();try{return await o(`${l.workspaceId}/projects/${l.projectId}/status`)}catch(p){console.error(p),e.notification.error(p.message)}}async function c(l,o){var u;const{resourcePath:p}=await s(o),f=(u=l==null?void 0:l.resourceFiles)==null?void 0:u.find(g=>g.files.some(R=>R.name===p));return(f==null?void 0:f.files)??[]}async function h(l,o){const{resourcePath:p}=await s(o);return(await c(l,o)).find(u=>u.name===p)}async function i(l){const o=await t();await e.api.post(Ze,{id:o.id??"site",languageCode:l},void 0,!0)}async function d(l,o){const p=await t();await e.api.post(et,{id:p.id??"site",languageCode:l,targetStatus:o},void 0,!0)}return{emitter:tt,getTranslationStatus:r,getTranslationResources:c,getTranslationResourceFile:h,uploadTranslation:i,downloadTranslation:d}}function O(e,t,n,s,r,c,h,i){var d=typeof e=="function"?e.options:e;return t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),{exports:e,options:d}}const W={...ee},ot=Object.assign({inheritAttrs:!1},{__name:"LingohubStatus",props:W,setup(e){const t=e,n=_(),{t:s}=X(),{getTranslationStatus:r,getTranslationResources:c}=N(),h=w(),i=w(),d={languageCode:{label:"Language Code",type:"text"},approved:{label:"Approved",type:"number"},draft:{label:"Draft",type:"number"},notTranslated:{label:"Not translated",type:"number"},translated:{label:"Translated",type:"number"},failedChecks:{label:"Failed Quality Checks",type:"number"},lastUpdated:{label:"Last updated at",type:"date"}},l=Z(()=>(i.value??[]).map(o=>({languageCode:o.languageCode,approved:o.statuses.APPROVED,draft:o.statuses.DRAFT,notTranslated:o.statuses.NOT_TRANSLATED,translated:o.statuses.TRANSLATED,failedChecks:o.failingLingochecksCount,lastUpdated:o.segmentsUpdatedAt})));return(async()=>{const{load:o}=Y(),p=await o({parent:t.parent,name:t.name});h.value=s(p.label)||n.t("johannschopplich.lingohub.statusLabel");const f=await r();i.value=await c(f,n.language.code)})(),{__sfc:!0,propsDefinition:W,props:t,panel:n,t:s,getTranslationStatus:r,getTranslationResources:c,label:h,resourceFiles:i,tableColumns:d,tableRows:l}}});var nt=function(){var t=this,n=t._self._c,s=t._self._setupProxy;return n("k-section",{attrs:{label:s.label}},[n("k-box",{attrs:{theme:"none"}},[n("k-table",{attrs:{columns:s.tableColumns,rows:s.tableRows}})],1)],1)},st=[],rt=O(ot,nt,st);const at=rt.exports,it=Object.assign({inheritAttrs:!1},{__name:"LingohubDropdownContent",setup(e){const t=_(),{openTextDialog:n,openFieldsDialog:s}=I(),{getDefaultLanguageData:r}=G(),{emitter:c,getTranslationStatus:h,getTranslationResourceFile:i,uploadTranslation:d,downloadTranslation:l}=N(),o=t.languages.find(y=>y.default),p=t.languages.filter(y=>!y.default),f=w(),u=(async()=>{const y=await r();f.value=await t.api.post(Ye,{id:y.id??"site"})})();async function g(y){await u,y==null||y()}async function R(){const{availableTranslationLanguageCodes:y}=f.value;t.view.isLoading=!0;const k=await h();try{for(const b of y){const T=await i(k,b);if(!(T?T.statuses.TRANSLATED>0:!1))await d(b);else{const $=await n(t.t("johannschopplich.lingohub.dialog.overwrite",{language:b}));await Promise.all([$&&d(b),new Promise(_t=>setTimeout(_t,250))].filter(Boolean))}}await d(o.code),c.emit("translationUpdate"),t.notification.success(t.t("johannschopplich.lingohub.success.upload"))}catch(b){t.view.isLoading=!1,console.error(b),t.notification.error(b.message)}}async function S(){const y=await h(),k=await i(y,o.code),b=(await Promise.all(p.map(async m=>{const $=await i(y,m.code);if($&&k.statuses.APPROVED===$.statuses.APPROVED)return m.code}))).filter(Boolean),T=await s({submitButton:{icon:"import",theme:"positive",text:t.t("johannschopplich.lingohub.download")},fields:{status:{type:"select",label:t.t("johannschopplich.lingohub.status"),options:[{value:"ALL",text:"All"},{value:"TRANSLATED_AND_APPROVED",text:"Translated and approved"},{value:"APPROVED",text:"Approved"}]},languages:{type:"checkboxes",label:t.t("johannschopplich.lingohub.languages"),options:p.map(m=>({value:m.code,text:m.name}))}},value:{status:"APPROVED",languages:b}});if(T){t.view.isLoading=!0;try{for(const m of T.languages)await l(m,T.status);await t.view.reload(),c.emit("translationUpdate"),t.notification.success(t.t("johannschopplich.lingohub.success.download"))}catch(m){t.view.isLoading=!1,console.error(m),t.notification.error(m.message)}}}return{__sfc:!0,panel:t,openTextDialog:n,openFieldsDialog:s,getDefaultLanguageData:r,emitter:c,getTranslationStatus:h,getTranslationResourceFile:i,uploadTranslation:d,downloadTranslation:l,defaultLanguage:o,translationLanguages:p,modelContext:f,initializationPromise:u,invokeWhenInitialized:g,uploadTranslations:R,downloadTranslations:S}}});var ct=function(){var t=this,n=t._self._c,s=t._self._setupProxy;return n("div",[n("k-dropdown-item",{attrs:{icon:"lingohub-upload-cloud"},on:{click:function(r){return s.invokeWhenInitialized(s.uploadTranslations)}}},[t._v(" "+t._s(s.panel.t("johannschopplich.lingohub.upload"))+" ")]),n("hr"),n("k-dropdown-item",{attrs:{icon:"lingohub-download-cloud"},on:{click:function(r){return s.invokeWhenInitialized(s.downloadTranslations)}}},[t._v(" "+t._s(s.panel.t("johannschopplich.lingohub.download"))+" ")])],1)},ut=[],lt=O(it,ct,ut);const pt=lt.exports,ft={__name:"LingohubButtonGroup",setup(e){const t=_(),{openFieldsDialog:n}=I(),{emitter:s,getTranslationStatus:r,getTranslationResourceFile:c}=N(),h=t.languages.find(u=>u.default);h||t.notification.error("The default language could not be found. Please make sure to set a default language in your Kirby installation.");const i=w(!0),d=w(!1),l=w(),o=w();U(()=>t.language.code,f),U(()=>t.view.path,u=>{u.startsWith("pages/")&&f()}),s.on("translationUpdate",()=>{setTimeout(f,2e3)}),(async()=>{const u=await C();if(!t.multilang)t.notification.error("The Lingohub plugin requires a multi-language Kirby installation.");else if(!u.config.apiKey)t.notification.error('Missing API key in the "johannschopplich.lingohub.apiKey" plugin option.');else for(const g of["workspaceId","projectId"])u.config[g]||t.notification.error(`Missing "johannschopplich.lingohub.${g}" plugin option.`);await f()})();function p(){l.value.toggle()}async function f(){const u=await r(),g=await c(u,h.code);o.value=await c(u,t.language.code),d.value=g&&o.value?o.value.statuses.APPROVED>=g.statuses.APPROVED:void 0,i.value=!1}return{__sfc:!0,panel:t,openFieldsDialog:n,emitter:s,getTranslationStatus:r,getTranslationResourceFile:c,defaultLanguage:h,isLoading:i,isApproved:d,dropdownContent:l,currentLanguageResourceFile:o,toggle:p,loadLingohubData:f,LingohubDropdownContent:pt}}};var dt=function(){var t=this,n=t._self._c,s=t._self._setupProxy;return n("k-button-group",{attrs:{layout:"collapsed"}},[n("k-button",{attrs:{text:s.isLoading?void 0:s.isApproved?s.panel.t("johannschopplich.lingohub.status.approved"):s.currentLanguageResourceFile?s.panel.t("johannschopplich.lingohub.status.inTranslation"):s.panel.t("johannschopplich.lingohub.status.notUploaded"),icon:s.isLoading?"loader":s.isApproved?"check":s.currentLanguageResourceFile?"info":"question",responsive:"",theme:s.isLoading?void 0:s.isApproved?"positive":s.currentLanguageResourceFile?"blue-icon":"notice-icon",variant:"filled",size:"sm"},on:{click:function(r){s.currentLanguageResourceFile&&s.openFieldsDialog({submitButton:s.panel.t("confirm"),fields:{languageCode:{type:"info",label:"Language Code",text:s.currentLanguageResourceFile.languageCode},approved:{type:"info",theme:"white",label:"Approved",text:`${s.currentLanguageResourceFile.statuses.APPROVED}`},draft:{type:"info",theme:"white",label:"Draft",text:`${s.currentLanguageResourceFile.statuses.DRAFT}`},notTranslated:{type:"info",theme:"white",label:"Not Translated",text:`${s.currentLanguageResourceFile.statuses.NOT_TRANSLATED}`},translated:{type:"info",theme:"white",label:"Translated",text:`${s.currentLanguageResourceFile.statuses.TRANSLATED}`},failedChecks:{type:"info",theme:"white",label:"Failed Quality Checks",text:`${s.currentLanguageResourceFile.failingLingochecksCount}`},lastUpdated:{type:"date",label:"Last Updated At",time:!1,disabled:!0}},value:{lastUpdated:s.currentLanguageResourceFile.segmentsUpdatedAt}})}}}),n("k-button",{attrs:{dropdown:!0,text:s.panel.t("johannschopplich.lingohub.label"),icon:"lingohub-global",responsive:"text",variant:"filled",size:"sm"},on:{click:function(r){return s.toggle()}}}),n("k-dropdown-content",{ref:"dropdownContent"},[n(s.LingohubDropdownContent,{attrs:{context:t.context}})],1)],1)},ht=[],gt=O(ft,dt,ht);const K=gt.exports,yt={"lingohub-global":'<path fill="currentColor" d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m-2.29-2.333A17.9 17.9 0 0 1 8.027 13H4.062a8.01 8.01 0 0 0 5.648 6.667M10.03 13c.151 2.439.848 4.73 1.97 6.752A15.9 15.9 0 0 0 13.97 13zm9.908 0h-3.965a17.9 17.9 0 0 1-1.683 6.667A8.01 8.01 0 0 0 19.938 13M4.062 11h3.965A17.9 17.9 0 0 1 9.71 4.333A8.01 8.01 0 0 0 4.062 11m5.969 0h3.938A15.9 15.9 0 0 0 12 4.248A15.9 15.9 0 0 0 10.03 11m4.259-6.667A17.9 17.9 0 0 1 15.973 11h3.965a8.01 8.01 0 0 0-5.648-6.667" />',"lingohub-upload-cloud":'<path fill="currentColor" d="m12 12.586l4.243 4.242l-1.415 1.415L13 16.415V22h-2v-5.587l-1.828 1.83l-1.415-1.415zM12 2a7 7 0 0 1 6.954 6.194A5.5 5.5 0 0 1 18 18.978v-2.014a3.5 3.5 0 1 0-1.111-6.91a5 5 0 1 0-9.777 0a3.5 3.5 0 0 0-1.292 6.88l.18.03v2.014a5.5 5.5 0 0 1-.954-10.784A7 7 0 0 1 12 2" />',"lingohub-download-cloud":'<path fill="currentColor" d="M13 13v5.585l1.828-1.828l1.415 1.415L12 22.414l-4.243-4.242l1.415-1.415L11 18.585V13zM12 2a7 7 0 0 1 6.954 6.194A5.5 5.5 0 0 1 18 18.978v-2.014a3.5 3.5 0 1 0-1.111-6.91a5 5 0 1 0-9.777 0a3.5 3.5 0 0 0-1.292 6.88l.18.03v2.014a5.5 5.5 0 0 1-.954-10.784A7 7 0 0 1 12 2" />'};function mt(e){J()||e.mixin({mounted(){if(this.$options.name!=="k-header")return;const{panel:t}=window;if(!t.multilang||!t.view.path.startsWith("pages/"))return;const n=this.$children.find(c=>c.$options.name==="k-button-group");if(!n)return;const s=new e({render:c=>c(K)}).$mount(),r=n.$el.querySelector(".k-languages-dropdown");r&&(r.before(s.$el),this.$forceUpdate())}})}window.panel.plugin("johannschopplich/lingohub",{sections:{"lingohub-status":at},viewButtons:{lingohub:K},icons:yt,use:[mt]})})();
