(function(){"use strict";const a=window.Vue;function w(){return window.panel}function W(){return w().api}const H=()=>window.panel.plugins.viewButtons!==void 0;function k(){function e(n){let s=!1;return new Promise(r=>{const i=w();i.dialog.open({component:"k-text-dialog",props:{text:n},on:{close:()=>{setTimeout(()=>{r(s)},25)},submit:()=>{s=!0,i.dialog.close()}}})})}function t(n){let s;return new Promise(r=>{const i=w();i.dialog.open({component:"k-form-dialog",props:n,on:{close:()=>{setTimeout(()=>{r(s)},25)},submit:d=>{s=d,i.dialog.close()}}})})}return{openTextDialog:e,openFieldsDialog:t}}function J(){const e=w();function t(n){return!n||typeof n=="string"?n:n[e.translation.code]??Object.values(n)[0]}return{t}}function X(){const e=W();return{load:({parent:n,name:s})=>e.get(`${n}/sections/${s}`)}}const Y=a.computed;a.customRef,a.defineAsyncComponent,a.defineComponent,a.effectScope,a.getCurrentInstance,a.getCurrentScope,a.h,a.inject,a.isProxy,a.isReactive,a.isReadonly,a.isRef,a.isShallow,a.markRaw,a.nextTick,a.onActivated,a.onBeforeMount,a.onBeforeUnmount,a.onBeforeUpdate,a.onDeactivated,a.onErrorCaptured,a.onMounted,a.onRenderTracked,a.onRenderTriggered,a.onScopeDispose,a.onServerPrefetch,a.onUnmounted,a.onUpdated,a.provide,a.proxyRefs,a.reactive,a.readonly;const R=a.ref;a.shallowReactive,a.shallowReadonly,a.shallowRef,a.toRaw,a.toRef,a.toRefs,a.triggerRef,a.unref,a.useAttrs,a.useCssModule,a.useCssVars,a.useListeners,a.useSlots;const Z=a.watch;a.watchEffect,a.watchPostEffect,a.watchSyncEffect;const ee={blueprint:String,lock:[Boolean,Object],help:String,name:String,parent:String,timestamp:Number};function te(e){return{all:e=e||new Map,on:function(t,n){var s=e.get(t);s?s.push(n):e.set(t,[n])},off:function(t,n){var s=e.get(t);s&&(n?s.splice(s.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var s=e.get(t);s&&s.slice().map(function(r){r(n)}),(s=e.get("*"))&&s.slice().map(function(r){r(t,n)})}}}const oe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ne=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,se=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function re(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){ae(e);return}return t}function ae(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function ie(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!se.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(oe.test(e)||ne.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,re)}return JSON.parse(e)}catch(s){if(t.strict)throw s;return e}}const ce=/#/g,ue=/&/g,le=/\//g,pe=/=/g,D=/\+/g,fe=/%5e/gi,de=/%60/gi,he=/%7c/gi,ge=/%20/gi;function ye(e){return encodeURI(""+e).replace(he,"|")}function F(e){return ye(typeof e=="string"?e:JSON.stringify(e)).replace(D,"%2B").replace(ge,"+").replace(ce,"%23").replace(ue,"%26").replace(de,"`").replace(fe,"^").replace(le,"%2F")}function j(e){return F(e).replace(pe,"%3D")}function I(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function me(e){return I(e.replace(D," "))}function be(e){return I(e.replace(D," "))}function we(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const n of e.split("&")){const s=n.match(/([^=]+)=?(.*)/)||[];if(s.length<2)continue;const r=me(s[1]);if(r==="__proto__"||r==="constructor")continue;const i=be(s[2]||"");t[r]===void 0?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]}return t}function _e(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${j(e)}=${F(n)}`).join("&"):`${j(e)}=${F(t)}`:j(e)}function Re(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>_e(t,e[t])).filter(Boolean).join("&")}const Te=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Ae=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Le=/^([/\\]\s*){2,}[^/\\]/,Ee=/^\.?\//;function U(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?Te.test(e):Ae.test(e)||(t.acceptRelative?Le.test(e):!1)}function ve(e="",t){return e.endsWith("/")}function Pe(e="",t){return(ve(e)?e.slice(0,-1):e)||"/"}function Ce(e="",t){return e.endsWith("/")?e:e+"/"}function Se(e,t){if(De(t)||U(e))return e;const n=Pe(t);return e.startsWith(n)?e:je(n,e)}function $e(e,t){const n=Oe(e),s={...we(n.search),...t};return n.search=Re(s),Ne(n)}function De(e){return!e||e==="/"}function Fe(e){return e&&e!=="/"}function je(e,...t){let n=e||"";for(const s of t.filter(r=>Fe(r)))if(n){const r=s.replace(Ee,"");n=Ce(n)+r}else n=s;return n}const x=Symbol.for("ufo:protocolRelative");function Oe(e="",t){const n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,u,p=""]=n;return{protocol:u.toLowerCase(),pathname:p,href:u+p,auth:"",host:"",search:"",hash:""}}if(!U(e,{acceptRelative:!0}))return M(e);const[,s="",r,i=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,d="",c=""]=i.match(/([^#/?]*)(.*)?/)||[];s==="file:"&&(c=c.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:f,search:h,hash:o}=M(c);return{protocol:s.toLowerCase(),auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:d,pathname:f,search:h,hash:o,[x]:!s}}function M(e=""){const[t="",n="",s=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:s}}function Ne(e){const t=e.pathname||"",n=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",s=e.hash||"",r=e.auth?e.auth+"@":"",i=e.host||"";return(e.protocol||e[x]?(e.protocol||"")+"//":"")+r+i+t+n+s}class ke extends Error{constructor(t,n){super(t,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function Ie(e){var f,h,o,u,p;const t=((f=e.error)==null?void 0:f.message)||((h=e.error)==null?void 0:h.toString())||"",n=((o=e.request)==null?void 0:o.method)||((u=e.options)==null?void 0:u.method)||"GET",s=((p=e.request)==null?void 0:p.url)||String(e.request)||"/",r=`[${n}] ${JSON.stringify(s)}`,i=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",d=`${r}: ${i}${t?` ${t}`:""}`,c=new ke(d,e.error?{cause:e.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(c,l,{get(){return e[l]}});for(const[l,g]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(c,l,{get(){return e.response&&e.response[g]}});return c}const Ue=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function V(e="GET"){return Ue.has(e.toUpperCase())}function xe(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const Me=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Ve=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function qe(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return Ve.test(t)?"json":Me.has(t)||t.startsWith("text/")?"text":"blob"}function Be(e,t,n,s){const r=ze((t==null?void 0:t.headers)??(e==null?void 0:e.headers),n==null?void 0:n.headers,s);let i;return(n!=null&&n.query||n!=null&&n.params||t!=null&&t.params||t!=null&&t.query)&&(i={...n==null?void 0:n.params,...n==null?void 0:n.query,...t==null?void 0:t.params,...t==null?void 0:t.query}),{...n,...t,query:i,params:i,headers:r}}function ze(e,t,n){if(!t)return new n(e);const s=new n(t);if(e)for(const[r,i]of Symbol.iterator in e||Array.isArray(e)?e:new n(e))s.set(r,i);return s}async function v(e,t){if(t)if(Array.isArray(t))for(const n of t)await n(e);else await t(e)}const Qe=new Set([408,409,425,429,500,502,503,504]),Ge=new Set([101,204,205,304]);function q(e={}){const{fetch:t=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:s=globalThis.AbortController}=e;async function r(c){const f=c.error&&c.error.name==="AbortError"&&!c.options.timeout||!1;if(c.options.retry!==!1&&!f){let o;typeof c.options.retry=="number"?o=c.options.retry:o=V(c.options.method)?0:1;const u=c.response&&c.response.status||500;if(o>0&&(Array.isArray(c.options.retryStatusCodes)?c.options.retryStatusCodes.includes(u):Qe.has(u))){const p=typeof c.options.retryDelay=="function"?c.options.retryDelay(c):c.options.retryDelay||0;return p>0&&await new Promise(l=>setTimeout(l,p)),i(c.request,{...c.options,retry:o-1})}}const h=Ie(c);throw Error.captureStackTrace&&Error.captureStackTrace(h,i),h}const i=async function(f,h={}){const o={request:f,options:Be(f,h,e.defaults,n),response:void 0,error:void 0};o.options.method&&(o.options.method=o.options.method.toUpperCase()),o.options.onRequest&&await v(o,o.options.onRequest),typeof o.request=="string"&&(o.options.baseURL&&(o.request=Se(o.request,o.options.baseURL)),o.options.query&&(o.request=$e(o.request,o.options.query),delete o.options.query),"query"in o.options&&delete o.options.query,"params"in o.options&&delete o.options.params),o.options.body&&V(o.options.method)&&(xe(o.options.body)?(o.options.body=typeof o.options.body=="string"?o.options.body:JSON.stringify(o.options.body),o.options.headers=new n(o.options.headers||{}),o.options.headers.has("content-type")||o.options.headers.set("content-type","application/json"),o.options.headers.has("accept")||o.options.headers.set("accept","application/json")):("pipeTo"in o.options.body&&typeof o.options.body.pipeTo=="function"||typeof o.options.body.pipe=="function")&&("duplex"in o.options||(o.options.duplex="half")));let u;if(!o.options.signal&&o.options.timeout){const l=new s;u=setTimeout(()=>{const g=new Error("[TimeoutError]: The operation was aborted due to timeout");g.name="TimeoutError",g.code=23,l.abort(g)},o.options.timeout),o.options.signal=l.signal}try{o.response=await t(o.request,o.options)}catch(l){return o.error=l,o.options.onRequestError&&await v(o,o.options.onRequestError),await r(o)}finally{u&&clearTimeout(u)}if((o.response.body||o.response._bodyInit)&&!Ge.has(o.response.status)&&o.options.method!=="HEAD"){const l=(o.options.parseResponse?"json":o.options.responseType)||qe(o.response.headers.get("content-type")||"");switch(l){case"json":{const g=await o.response.text(),_=o.options.parseResponse||ie;o.response._data=_(g);break}case"stream":{o.response._data=o.response.body||o.response._bodyInit;break}default:o.response._data=await o.response[l]()}}return o.options.onResponse&&await v(o,o.options.onResponse),!o.options.ignoreResponseError&&o.response.status>=400&&o.response.status<600?(o.options.onResponseError&&await v(o,o.options.onResponseError),await r(o)):o.response},d=async function(f,h){return(await i(f,h))._data};return d.raw=i,d.native=(...c)=>t(...c),d.create=(c={},f={})=>q({...e,...f,defaults:{...e.defaults,...f.defaults,...c}}),d}const P=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),Ke=P.fetch?(...e)=>P.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),We=P.Headers,He=P.AbortController,Je=q({fetch:Ke,Headers:We,AbortController:He}),Xe="__lingohub__/context",Ye="__lingohub__/model-context",Ze="__lingohub__/export",et="__lingohub__/import",C=new Map;let B=!1;function z(){const e=w(),t=e.languages.find(r=>r.default);B||(e.events.on("page.changeSlug",s),B=!0);async function n(){const{path:r}=e.view;if(C.has(r))return C.get(r);const i=await e.api.get(r,{select:["id","blueprint"],language:t==null?void 0:t.code},void 0,!0);return C.set(r,i),i}function s(){C.delete(e.view.path)}return{getViewModelData:n,clearViewModelData:s}}let S,E;function $(){return S||E||(E=window.panel.api.get(Xe).then(e=>(S=e,E=void 0,S)),E)}const tt=te();function O(){const e=w(),{getViewModelData:t}=z(),n=async()=>Je.create({baseURL:"https://api.lingohub.com/v1",headers:{Authorization:`Bearer ${(await $()).config.apiKey}`}});async function s(o){var A,L;const{languages:u}=await $(),p=await t();let l=((L=(A=u==null?void 0:u[o])==null?void 0:A.locale)==null?void 0:L[0])??o;l=l.replace("_","-"),l=l.replace(/\.utf-?8$/i,"");let g=p.blueprint.name;(g.startsWith("pages/")||g.startsWith("files/"))&&(g=g.substring(6));const _=`${g}_${l}.json`,m=`${p.id}/${_}`;return{filename:_,resourcePath:m}}async function r(){if(!await h())return;const{config:o}=await $(),u=await n();try{return await u(`${o.workspaceId}/projects/${o.projectId}/status`)}catch(p){console.error(p),e.notification.error(p.message)}}async function i(o,u){var g;const{resourcePath:p}=await s(u),l=(g=o==null?void 0:o.resourceFiles)==null?void 0:g.find(_=>_.files.some(m=>m.name===p));return(l==null?void 0:l.files)??[]}async function d(o,u){const{resourcePath:p}=await s(u);return(await i(o,u)).find(g=>g.name===p)}async function c(o){const u=await t();await e.api.post(Ze,{id:u.id??"site",languageCode:o},void 0,!0)}async function f(o,u){const p=await t();await e.api.post(et,{id:p.id??"site",languageCode:o,targetStatus:u},void 0,!0)}async function h(){const o=await $();try{if(e.multilang)if(o.config.apiKey){for(const u of["workspaceId","projectId"])if(typeof o.config[u]!="string"||!o.config[u])throw new TypeError(`Missing "johannschopplich.lingohub.${u}" plugin option.`)}else throw new Error('Missing API key in the "johannschopplich.lingohub.apiKey" plugin option.');else throw new Error("The Lingohub plugin requires a multi-language Kirby installation.");return!0}catch(u){return console.error(u),e.notification.error(u.message),!1}}return{emitter:tt,getTranslationStatus:r,getTranslationResources:i,getTranslationResourceFile:d,uploadTranslation:c,downloadTranslation:f}}function N(e,t,n,s,r,i,d,c){var f=typeof e=="function"?e.options:e;return t&&(f.render=t,f.staticRenderFns=n,f._compiled=!0),{exports:e,options:f}}const Q={...ee},ot=Object.assign({inheritAttrs:!1},{__name:"LingohubStatus",props:Q,setup(e){const t=e,n=w(),{t:s}=J(),{getTranslationStatus:r,getTranslationResources:i}=O(),d=R(),c=R(),f={languageCode:{label:"Language Code",type:"text"},approved:{label:"Approved",type:"number"},draft:{label:"Draft",type:"number"},notTranslated:{label:"Not translated",type:"number"},translated:{label:"Translated",type:"number"},failedChecks:{label:"Failed Quality Checks",type:"number"},lastUpdated:{label:"Last updated at",type:"date"}},h=Y(()=>(c.value??[]).map(o=>({languageCode:o.languageCode,approved:o.statuses.APPROVED,draft:o.statuses.DRAFT,notTranslated:o.statuses.NOT_TRANSLATED,translated:o.statuses.TRANSLATED,failedChecks:o.failingLingochecksCount,lastUpdated:o.segmentsUpdatedAt})));return(async()=>{const{load:o}=X(),u=await o({parent:t.parent,name:t.name});d.value=s(u.label)||n.t("johannschopplich.lingohub.statusLabel");const p=await r();c.value=await i(p,n.language.code)})(),{__sfc:!0,propsDefinition:Q,props:t,panel:n,t:s,getTranslationStatus:r,getTranslationResources:i,label:d,resourceFiles:c,tableColumns:f,tableRows:h}}});var nt=function(){var t=this,n=t._self._c,s=t._self._setupProxy;return n("k-section",{attrs:{label:s.label}},[n("k-box",{attrs:{theme:"none"}},[n("k-table",{attrs:{columns:s.tableColumns,rows:s.tableRows}})],1)],1)},st=[],rt=N(ot,nt,st);const at=rt.exports,it=Object.assign({inheritAttrs:!1},{__name:"LingohubDropdownContent",setup(e){const t=w(),{openFieldsDialog:n}=k(),{getViewModelData:s}=z(),{emitter:r,getTranslationStatus:i,getTranslationResourceFile:d,uploadTranslation:c,downloadTranslation:f}=O(),h=t.languages.find(m=>m.default),o=t.languages.filter(m=>!m.default),u=R(),p=(async()=>{const m=await s();u.value=await t.api.post(Ye,{id:m.id??"site"})})();async function l(m){await p,m==null||m()}async function g(){const{availableTranslationLanguageCodes:m}=u.value;t.view.isLoading=!0;const A=await i(),L=(await Promise.all(m.map(async y=>{const b=await d(A,y);if(!(b&&(b.statuses.TRANSLATED>0||b.statuses.DRAFT>0||b.statuses.APPROVED>0)))return y}))).filter(Boolean),T=await n({submitButton:{icon:"upload",theme:"positive",text:t.t("johannschopplich.lingohub.upload")},fields:{sourceLanguage:{type:"checkboxes",label:t.t("johannschopplich.lingohub.sourceLanguage"),options:[{value:h.code,text:h.name}]},targetLanguages:m.length>0?{type:"checkboxes",label:t.t("johannschopplich.lingohub.targetLanguages"),options:m.map(y=>{var b;return{value:y,text:((b=t.languages.find(K=>K.code===y))==null?void 0:b.name)??y}})}:{type:"info",theme:"empty",label:t.t("johannschopplich.lingohub.targetLanguages"),text:t.t("johannschopplich.lingohub.emptyKirbyTranslations")}},value:{sourceLanguage:[h.code],targetLanguages:L}});if(T){t.view.isLoading=!0;try{for(const y of[...T.sourceLanguage,...T.targetLanguages])await c(y);r.emit("translationUpdate"),t.notification.success(t.t("johannschopplich.lingohub.success.upload"))}catch(y){console.error(y),t.notification.error(y.message)}finally{t.view.isLoading=!1}}}async function _(){const m=await i(),A=await d(m,h.code),L=(await Promise.all(o.map(async y=>{const b=await d(m,y.code);if(b&&b.statuses.APPROVED>=A.statuses.APPROVED)return y.code}))).filter(Boolean),T=await n({submitButton:{icon:"import",theme:"positive",text:t.t("johannschopplich.lingohub.download")},fields:{status:{type:"select",label:t.t("johannschopplich.lingohub.status"),options:[{value:"ALL",text:"All"},{value:"TRANSLATED_AND_APPROVED",text:"Translated and approved"},{value:"APPROVED",text:"Approved"}]},languages:{type:"checkboxes",label:t.t("johannschopplich.lingohub.languages"),options:o.map(y=>({value:y.code,text:y.name}))}},value:{status:"APPROVED",languages:L}});if(T){t.view.isLoading=!0;try{for(const y of T.languages)await f(y,T.status);await t.view.reload(),r.emit("translationUpdate"),t.notification.success(t.t("johannschopplich.lingohub.success.download"))}catch(y){t.view.isLoading=!1,console.error(y),t.notification.error(y.message)}}}return{__sfc:!0,panel:t,openFieldsDialog:n,getViewModelData:s,emitter:r,getTranslationStatus:i,getTranslationResourceFile:d,uploadTranslation:c,downloadTranslation:f,defaultLanguage:h,translationLanguages:o,modelContext:u,initializationPromise:p,invokeWhenInitialized:l,uploadTranslations:g,downloadTranslations:_}}});var ct=function(){var t=this,n=t._self._c,s=t._self._setupProxy;return n("div",[n("k-dropdown-item",{attrs:{icon:"lingohub-upload-cloud"},on:{click:function(r){return s.invokeWhenInitialized(s.uploadTranslations)}}},[t._v(" "+t._s(s.panel.t("johannschopplich.lingohub.upload"))+" ")]),n("hr"),n("k-dropdown-item",{attrs:{icon:"lingohub-download-cloud"},on:{click:function(r){return s.invokeWhenInitialized(s.downloadTranslations)}}},[t._v(" "+t._s(s.panel.t("johannschopplich.lingohub.download"))+" ")])],1)},ut=[],lt=N(it,ct,ut);const pt=lt.exports,ft={__name:"LingohubButtonGroup",setup(e){const t=w(),{openFieldsDialog:n}=k(),{emitter:s,getTranslationStatus:r,getTranslationResourceFile:i}=O(),d=t.languages.find(l=>l.default);d||t.notification.error("The default language could not be found. Please make sure to set a default language in your Kirby installation.");const c=R(!0),f=R(!1),h=R(),o=R();Z(()=>[t.view.path,t.language.code],([l])=>{l.startsWith("pages/")&&p()},{immediate:!0}),s.on("translationUpdate",()=>{setTimeout(p,2e3)});function u(){h.value.toggle()}async function p(){const l=await r(),g=await i(l,d.code);o.value=await i(l,t.language.code),f.value=g&&o.value?o.value.statuses.APPROVED>=g.statuses.APPROVED:void 0,c.value=!1}return{__sfc:!0,panel:t,openFieldsDialog:n,emitter:s,getTranslationStatus:r,getTranslationResourceFile:i,defaultLanguage:d,isLoading:c,isApproved:f,dropdownContent:h,currentLanguageResourceFile:o,toggle:u,loadLingohubData:p,LingohubDropdownContent:pt}}};var dt=function(){var t=this,n=t._self._c,s=t._self._setupProxy;return n("k-button-group",{attrs:{layout:"collapsed"}},[n("k-button",{attrs:{text:s.isLoading?void 0:s.isApproved?s.panel.t("johannschopplich.lingohub.status.approved"):s.currentLanguageResourceFile?s.panel.t("johannschopplich.lingohub.status.inTranslation"):s.panel.t("johannschopplich.lingohub.status.notUploaded"),icon:s.isLoading?"loader":s.isApproved?"check":s.currentLanguageResourceFile?"info":"question",responsive:"",theme:s.isLoading?void 0:s.isApproved?"positive":s.currentLanguageResourceFile?"blue-icon":"notice-icon",variant:"filled",size:"sm"},on:{click:function(r){s.currentLanguageResourceFile&&s.openFieldsDialog({submitButton:s.panel.t("confirm"),fields:{languageCode:{type:"info",label:"Language Code",text:s.currentLanguageResourceFile.languageCode},approved:{type:"info",theme:"white",label:"Approved",text:`${s.currentLanguageResourceFile.statuses.APPROVED}`},draft:{type:"info",theme:"white",label:"Draft",text:`${s.currentLanguageResourceFile.statuses.DRAFT}`},notTranslated:{type:"info",theme:"white",label:"Not Translated",text:`${s.currentLanguageResourceFile.statuses.NOT_TRANSLATED}`},translated:{type:"info",theme:"white",label:"Translated",text:`${s.currentLanguageResourceFile.statuses.TRANSLATED}`},failedChecks:{type:"info",theme:"white",label:"Failed Quality Checks",text:`${s.currentLanguageResourceFile.failingLingochecksCount}`},lastUpdated:{type:"date",label:"Last Updated At",time:!1,disabled:!0}},value:{lastUpdated:s.currentLanguageResourceFile.segmentsUpdatedAt}})}}}),n("k-button",{attrs:{dropdown:!0,text:s.panel.t("johannschopplich.lingohub.label"),icon:"lingohub-global",responsive:"text",variant:"filled",size:"sm"},on:{click:function(r){return s.toggle()}}}),n("k-dropdown-content",{ref:"dropdownContent"},[n(s.LingohubDropdownContent)],1)],1)},ht=[],gt=N(ft,dt,ht);const G=gt.exports,yt={"lingohub-global":'<path fill="currentColor" d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m-2.29-2.333A17.9 17.9 0 0 1 8.027 13H4.062a8.01 8.01 0 0 0 5.648 6.667M10.03 13c.151 2.439.848 4.73 1.97 6.752A15.9 15.9 0 0 0 13.97 13zm9.908 0h-3.965a17.9 17.9 0 0 1-1.683 6.667A8.01 8.01 0 0 0 19.938 13M4.062 11h3.965A17.9 17.9 0 0 1 9.71 4.333A8.01 8.01 0 0 0 4.062 11m5.969 0h3.938A15.9 15.9 0 0 0 12 4.248A15.9 15.9 0 0 0 10.03 11m4.259-6.667A17.9 17.9 0 0 1 15.973 11h3.965a8.01 8.01 0 0 0-5.648-6.667" />',"lingohub-upload-cloud":'<path fill="currentColor" d="m12 12.586l4.243 4.242l-1.415 1.415L13 16.415V22h-2v-5.587l-1.828 1.83l-1.415-1.415zM12 2a7 7 0 0 1 6.954 6.194A5.5 5.5 0 0 1 18 18.978v-2.014a3.5 3.5 0 1 0-1.111-6.91a5 5 0 1 0-9.777 0a3.5 3.5 0 0 0-1.292 6.88l.18.03v2.014a5.5 5.5 0 0 1-.954-10.784A7 7 0 0 1 12 2" />',"lingohub-download-cloud":'<path fill="currentColor" d="M13 13v5.585l1.828-1.828l1.415 1.415L12 22.414l-4.243-4.242l1.415-1.415L11 18.585V13zM12 2a7 7 0 0 1 6.954 6.194A5.5 5.5 0 0 1 18 18.978v-2.014a3.5 3.5 0 1 0-1.111-6.91a5 5 0 1 0-9.777 0a3.5 3.5 0 0 0-1.292 6.88l.18.03v2.014a5.5 5.5 0 0 1-.954-10.784A7 7 0 0 1 12 2" />'};function mt(e){if(H())return;let t;e.mixin({mounted(){if(this.$options.name!=="k-header")return;const{panel:n}=window;if(!n.multilang||!n.view.path.startsWith("pages/"))return;const s=this.$children.find(d=>d.$options.name==="k-button-group");if(!s)return;const r=e.extend(G);t=new r({parent:this}),t.$mount();const i=s.$el.querySelector(".k-languages-dropdown");i&&i.before(t.$el)},beforeDestroy(){t&&(t.$destroy(),t=void 0)}})}window.panel.plugin("johannschopplich/lingohub",{sections:{"lingohub-status":at},viewButtons:{lingohub:G},icons:yt,use:[mt]})})();
