(function(){"use strict";const a=window.Vue;function w(){return window.panel}function K(){return w().api}const H=()=>window.panel.plugins.viewButtons!==void 0;function I(){function e(n){let s=!1;return new Promise(r=>{const c=w();c.dialog.open({component:"k-text-dialog",props:{text:n},on:{close:()=>{setTimeout(()=>{r(s)},25)},submit:()=>{s=!0,c.dialog.close()}}})})}function t(n){let s;return new Promise(r=>{const c=w();c.dialog.open({component:"k-form-dialog",props:n,on:{close:()=>{setTimeout(()=>{r(s)},25)},submit:d=>{s=d,c.dialog.close()}}})})}return{openTextDialog:e,openFieldsDialog:t}}function J(){const e=w();function t(n){return!n||typeof n=="string"?n:n[e.translation.code]??Object.values(n)[0]}return{t}}function X(){const e=K();return{load:({parent:n,name:s})=>e.get(`${n}/sections/${s}`)}}const Y=a.computed;a.customRef,a.defineAsyncComponent,a.defineComponent,a.effectScope,a.getCurrentInstance,a.getCurrentScope,a.h,a.inject,a.isProxy,a.isReactive,a.isReadonly,a.isRef,a.isShallow,a.markRaw,a.nextTick,a.onActivated,a.onBeforeMount,a.onBeforeUnmount,a.onBeforeUpdate,a.onDeactivated,a.onErrorCaptured,a.onMounted,a.onRenderTracked,a.onRenderTriggered,a.onScopeDispose,a.onServerPrefetch,a.onUnmounted,a.onUpdated,a.provide,a.proxyRefs,a.reactive,a.readonly;const R=a.ref;a.shallowReactive,a.shallowReadonly,a.shallowRef,a.toRaw,a.toRef,a.toRefs,a.triggerRef,a.unref,a.useAttrs,a.useCssModule,a.useCssVars,a.useListeners,a.useSlots;const Z=a.watch;a.watchEffect,a.watchPostEffect,a.watchSyncEffect;const ee={blueprint:String,lock:[Boolean,Object],help:String,name:String,parent:String,timestamp:Number};function te(e){return{all:e=e||new Map,on:function(t,n){var s=e.get(t);s?s.push(n):e.set(t,[n])},off:function(t,n){var s=e.get(t);s&&(n?s.splice(s.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var s=e.get(t);s&&s.slice().map(function(r){r(n)}),(s=e.get("*"))&&s.slice().map(function(r){r(t,n)})}}}const oe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ne=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,se=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function re(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){ae(e);return}return t}function ae(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function ie(e,t={}){if(typeof e!="string")return e;const n=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const s=n.toLowerCase();if(s==="true")return!0;if(s==="false")return!1;if(s==="undefined")return;if(s==="null")return null;if(s==="nan")return Number.NaN;if(s==="infinity")return Number.POSITIVE_INFINITY;if(s==="-infinity")return Number.NEGATIVE_INFINITY}if(!se.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(oe.test(e)||ne.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,re)}return JSON.parse(e)}catch(s){if(t.strict)throw s;return e}}const ce=/#/g,ue=/&/g,le=/\//g,pe=/=/g,F=/\+/g,fe=/%5e/gi,de=/%60/gi,he=/%7c/gi,ge=/%20/gi;function ye(e){return encodeURI(""+e).replace(he,"|")}function j(e){return ye(typeof e=="string"?e:JSON.stringify(e)).replace(F,"%2B").replace(ge,"+").replace(ce,"%23").replace(ue,"%26").replace(de,"`").replace(fe,"^").replace(le,"%2F")}function N(e){return j(e).replace(pe,"%3D")}function U(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function me(e){return U(e.replace(F," "))}function we(e){return U(e.replace(F," "))}function _e(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const n of e.split("&")){const s=n.match(/([^=]+)=?(.*)/)||[];if(s.length<2)continue;const r=me(s[1]);if(r==="__proto__"||r==="constructor")continue;const c=we(s[2]||"");t[r]===void 0?t[r]=c:Array.isArray(t[r])?t[r].push(c):t[r]=[t[r],c]}return t}function be(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${N(e)}=${j(n)}`).join("&"):`${N(e)}=${j(t)}`:N(e)}function Re(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>be(t,e[t])).filter(Boolean).join("&")}const Te=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Ae=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Ee=/^([/\\]\s*){2,}[^/\\]/,Le=/^\.?\//;function x(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?Te.test(e):Ae.test(e)||(t.acceptRelative?Ee.test(e):!1)}function ve(e="",t){return e.endsWith("/")}function Pe(e="",t){return(ve(e)?e.slice(0,-1):e)||"/"}function Ce(e="",t){return e.endsWith("/")?e:e+"/"}function Se(e,t){if(De(t)||x(e))return e;const n=Pe(t);return e.startsWith(n)?e:je(n,e)}function $e(e,t){const n=Ne(e),s={..._e(n.search),...t};return n.search=Re(s),Oe(n)}function De(e){return!e||e==="/"}function Fe(e){return e&&e!=="/"}function je(e,...t){let n=e||"";for(const s of t.filter(r=>Fe(r)))if(n){const r=s.replace(Le,"");n=Ce(n)+r}else n=s;return n}const M=Symbol.for("ufo:protocolRelative");function Ne(e="",t){const n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,u,f=""]=n;return{protocol:u.toLowerCase(),pathname:f,href:u+f,auth:"",host:"",search:"",hash:""}}if(!x(e,{acceptRelative:!0}))return q(e);const[,s="",r,c=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,d="",i=""]=c.match(/([^#/?]*)(.*)?/)||[];s==="file:"&&(i=i.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:p,search:g,hash:o}=q(i);return{protocol:s.toLowerCase(),auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:d,pathname:p,search:g,hash:o,[M]:!s}}function q(e=""){const[t="",n="",s=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:s}}function Oe(e){const t=e.pathname||"",n=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",s=e.hash||"",r=e.auth?e.auth+"@":"",c=e.host||"";return(e.protocol||e[M]?(e.protocol||"")+"//":"")+r+c+t+n+s}class ke extends Error{constructor(t,n){super(t,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function Ie(e){var p,g,o,u,f;const t=((p=e.error)==null?void 0:p.message)||((g=e.error)==null?void 0:g.toString())||"",n=((o=e.request)==null?void 0:o.method)||((u=e.options)==null?void 0:u.method)||"GET",s=((f=e.request)==null?void 0:f.url)||String(e.request)||"/",r=`[${n}] ${JSON.stringify(s)}`,c=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",d=`${r}: ${c}${t?` ${t}`:""}`,i=new ke(d,e.error?{cause:e.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(i,l,{get(){return e[l]}});for(const[l,h]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(i,l,{get(){return e.response&&e.response[h]}});return i}const Ue=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function B(e="GET"){return Ue.has(e.toUpperCase())}function xe(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const Me=new Set(["image/svg","application/xml","application/xhtml","application/html"]),qe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Be(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return qe.test(t)?"json":Me.has(t)||t.startsWith("text/")?"text":"blob"}function Ve(e,t,n,s){const r=Qe((t==null?void 0:t.headers)??(e==null?void 0:e.headers),n==null?void 0:n.headers,s);let c;return(n!=null&&n.query||n!=null&&n.params||t!=null&&t.params||t!=null&&t.query)&&(c={...n==null?void 0:n.params,...n==null?void 0:n.query,...t==null?void 0:t.params,...t==null?void 0:t.query}),{...n,...t,query:c,params:c,headers:r}}function Qe(e,t,n){if(!t)return new n(e);const s=new n(t);if(e)for(const[r,c]of Symbol.iterator in e||Array.isArray(e)?e:new n(e))s.set(r,c);return s}async function v(e,t){if(t)if(Array.isArray(t))for(const n of t)await n(e);else await t(e)}const ze=new Set([408,409,425,429,500,502,503,504]),Ge=new Set([101,204,205,304]);function V(e={}){const{fetch:t=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:s=globalThis.AbortController}=e;async function r(i){const p=i.error&&i.error.name==="AbortError"&&!i.options.timeout||!1;if(i.options.retry!==!1&&!p){let o;typeof i.options.retry=="number"?o=i.options.retry:o=B(i.options.method)?0:1;const u=i.response&&i.response.status||500;if(o>0&&(Array.isArray(i.options.retryStatusCodes)?i.options.retryStatusCodes.includes(u):ze.has(u))){const f=typeof i.options.retryDelay=="function"?i.options.retryDelay(i):i.options.retryDelay||0;return f>0&&await new Promise(l=>setTimeout(l,f)),c(i.request,{...i.options,retry:o-1})}}const g=Ie(i);throw Error.captureStackTrace&&Error.captureStackTrace(g,c),g}const c=async function(p,g={}){const o={request:p,options:Ve(p,g,e.defaults,n),response:void 0,error:void 0};o.options.method&&(o.options.method=o.options.method.toUpperCase()),o.options.onRequest&&await v(o,o.options.onRequest),typeof o.request=="string"&&(o.options.baseURL&&(o.request=Se(o.request,o.options.baseURL)),o.options.query&&(o.request=$e(o.request,o.options.query),delete o.options.query),"query"in o.options&&delete o.options.query,"params"in o.options&&delete o.options.params),o.options.body&&B(o.options.method)&&(xe(o.options.body)?(o.options.body=typeof o.options.body=="string"?o.options.body:JSON.stringify(o.options.body),o.options.headers=new n(o.options.headers||{}),o.options.headers.has("content-type")||o.options.headers.set("content-type","application/json"),o.options.headers.has("accept")||o.options.headers.set("accept","application/json")):("pipeTo"in o.options.body&&typeof o.options.body.pipeTo=="function"||typeof o.options.body.pipe=="function")&&("duplex"in o.options||(o.options.duplex="half")));let u;if(!o.options.signal&&o.options.timeout){const l=new s;u=setTimeout(()=>{const h=new Error("[TimeoutError]: The operation was aborted due to timeout");h.name="TimeoutError",h.code=23,l.abort(h)},o.options.timeout),o.options.signal=l.signal}try{o.response=await t(o.request,o.options)}catch(l){return o.error=l,o.options.onRequestError&&await v(o,o.options.onRequestError),await r(o)}finally{u&&clearTimeout(u)}if((o.response.body||o.response._bodyInit)&&!Ge.has(o.response.status)&&o.options.method!=="HEAD"){const l=(o.options.parseResponse?"json":o.options.responseType)||Be(o.response.headers.get("content-type")||"");switch(l){case"json":{const h=await o.response.text(),b=o.options.parseResponse||ie;o.response._data=b(h);break}case"stream":{o.response._data=o.response.body||o.response._bodyInit;break}default:o.response._data=await o.response[l]()}}return o.options.onResponse&&await v(o,o.options.onResponse),!o.options.ignoreResponseError&&o.response.status>=400&&o.response.status<600?(o.options.onResponseError&&await v(o,o.options.onResponseError),await r(o)):o.response},d=async function(p,g){return(await c(p,g))._data};return d.raw=c,d.native=(...i)=>t(...i),d.create=(i={},p={})=>V({...e,...p,defaults:{...e.defaults,...p.defaults,...i}}),d}const P=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),We=P.fetch?(...e)=>P.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Ke=P.Headers,He=P.AbortController,Je=V({fetch:We,Headers:Ke,AbortController:He}),Xe="__lingohub__/context",Ye="__lingohub__/model-context",Ze="__lingohub__/export",et="__lingohub__/import",C=new Map;let Q=!1;function z(){const e=w(),t=e.languages.find(s=>s.default);Q||(e.events.on("page.changeSlug",()=>{C.delete(e.view.path)}),Q=!0);async function n(){const{path:s}=e.view;if(C.has(s))return C.get(s);const r=await e.api.get(s,{select:["id","blueprint"],language:t.code},void 0,!0);return C.set(s,r),r}return{getDefaultLanguageData:n}}let S,E;function $(){return S||E||(E=window.panel.api.get(Xe).then(e=>(S=e,E=void 0,S)),E)}const tt=te();function O(){const e=w(),{getDefaultLanguageData:t}=z(),n=async()=>Je.create({baseURL:"https://api.lingohub.com/v1",headers:{Authorization:`Bearer ${(await $()).config.apiKey}`}});async function s(o){var y,T;const{languages:u}=await $(),f=await t();let l=((T=(y=u==null?void 0:u[o])==null?void 0:y.locale)==null?void 0:T[0])??o;l=l.replace("_","-"),l=l.replace(/\.utf-?8$/i,"");let h=f.blueprint.name;(h.startsWith("pages/")||h.startsWith("files/"))&&(h=h.substring(6));const b=`${h}_${l}.json`,L=`${f.id}/${b}`;return{filename:b,resourcePath:L}}async function r(){if(!await g())return;const{config:o}=await $(),u=await n();try{return await u(`${o.workspaceId}/projects/${o.projectId}/status`)}catch(f){console.error(f),e.notification.error(f.message)}}async function c(o,u){var h;const{resourcePath:f}=await s(u),l=(h=o==null?void 0:o.resourceFiles)==null?void 0:h.find(b=>b.files.some(L=>L.name===f));return(l==null?void 0:l.files)??[]}async function d(o,u){const{resourcePath:f}=await s(u);return(await c(o,u)).find(h=>h.name===f)}async function i(o){const u=await t();await e.api.post(Ze,{id:u.id??"site",languageCode:o},void 0,!0)}async function p(o,u){const f=await t();await e.api.post(et,{id:f.id??"site",languageCode:o,targetStatus:u},void 0,!0)}async function g(){const o=await $();try{if(e.multilang)if(o.config.apiKey){for(const u of["workspaceId","projectId"])if(typeof o.config[u]!="string"||!o.config[u])throw new TypeError(`Missing "johannschopplich.lingohub.${u}" plugin option.`)}else throw new Error('Missing API key in the "johannschopplich.lingohub.apiKey" plugin option.');else throw new Error("The Lingohub plugin requires a multi-language Kirby installation.");return!0}catch(u){return console.error(u),e.notification.error(u.message),!1}}return{emitter:tt,getTranslationStatus:r,getTranslationResources:c,getTranslationResourceFile:d,uploadTranslation:i,downloadTranslation:p}}function k(e,t,n,s,r,c,d,i){var p=typeof e=="function"?e.options:e;return t&&(p.render=t,p.staticRenderFns=n,p._compiled=!0),{exports:e,options:p}}const G={...ee},ot=Object.assign({inheritAttrs:!1},{__name:"LingohubStatus",props:G,setup(e){const t=e,n=w(),{t:s}=J(),{getTranslationStatus:r,getTranslationResources:c}=O(),d=R(),i=R(),p={languageCode:{label:"Language Code",type:"text"},approved:{label:"Approved",type:"number"},draft:{label:"Draft",type:"number"},notTranslated:{label:"Not translated",type:"number"},translated:{label:"Translated",type:"number"},failedChecks:{label:"Failed Quality Checks",type:"number"},lastUpdated:{label:"Last updated at",type:"date"}},g=Y(()=>(i.value??[]).map(o=>({languageCode:o.languageCode,approved:o.statuses.APPROVED,draft:o.statuses.DRAFT,notTranslated:o.statuses.NOT_TRANSLATED,translated:o.statuses.TRANSLATED,failedChecks:o.failingLingochecksCount,lastUpdated:o.segmentsUpdatedAt})));return(async()=>{const{load:o}=X(),u=await o({parent:t.parent,name:t.name});d.value=s(u.label)||n.t("johannschopplich.lingohub.statusLabel");const f=await r();i.value=await c(f,n.language.code)})(),{__sfc:!0,propsDefinition:G,props:t,panel:n,t:s,getTranslationStatus:r,getTranslationResources:c,label:d,resourceFiles:i,tableColumns:p,tableRows:g}}});var nt=function(){var t=this,n=t._self._c,s=t._self._setupProxy;return n("k-section",{attrs:{label:s.label}},[n("k-box",{attrs:{theme:"none"}},[n("k-table",{attrs:{columns:s.tableColumns,rows:s.tableRows}})],1)],1)},st=[],rt=k(ot,nt,st);const at=rt.exports,it=Object.assign({inheritAttrs:!1},{__name:"LingohubDropdownContent",setup(e){const t=w(),{openTextDialog:n,openFieldsDialog:s}=I(),{getDefaultLanguageData:r}=z(),{emitter:c,getTranslationStatus:d,getTranslationResourceFile:i,uploadTranslation:p,downloadTranslation:g}=O(),o=t.languages.find(y=>y.default),u=t.languages.filter(y=>!y.default),f=R(),l=(async()=>{const y=await r();f.value=await t.api.post(Ye,{id:y.id??"site"})})();async function h(y){await l,y==null||y()}async function b(){const{availableTranslationLanguageCodes:y}=f.value;t.view.isLoading=!0;const T=await d();try{for(const _ of y){const A=await i(T,_);if(!(A?A.statuses.TRANSLATED>0:!1))await p(_);else{const D=await n(t.t("johannschopplich.lingohub.dialog.overwrite",{language:_}));await Promise.all([D&&p(_),new Promise(wt=>setTimeout(wt,250))].filter(Boolean))}}await p(o.code),c.emit("translationUpdate"),t.notification.success(t.t("johannschopplich.lingohub.success.upload"))}catch(_){t.view.isLoading=!1,console.error(_),t.notification.error(_.message)}}async function L(){const y=await d(),T=await i(y,o.code),_=(await Promise.all(u.map(async m=>{const D=await i(y,m.code);if(D&&T.statuses.APPROVED===D.statuses.APPROVED)return m.code}))).filter(Boolean),A=await s({submitButton:{icon:"import",theme:"positive",text:t.t("johannschopplich.lingohub.download")},fields:{status:{type:"select",label:t.t("johannschopplich.lingohub.status"),options:[{value:"ALL",text:"All"},{value:"TRANSLATED_AND_APPROVED",text:"Translated and approved"},{value:"APPROVED",text:"Approved"}]},languages:{type:"checkboxes",label:t.t("johannschopplich.lingohub.languages"),options:u.map(m=>({value:m.code,text:m.name}))}},value:{status:"APPROVED",languages:_}});if(A){t.view.isLoading=!0;try{for(const m of A.languages)await g(m,A.status);await t.view.reload(),c.emit("translationUpdate"),t.notification.success(t.t("johannschopplich.lingohub.success.download"))}catch(m){t.view.isLoading=!1,console.error(m),t.notification.error(m.message)}}}return{__sfc:!0,panel:t,openTextDialog:n,openFieldsDialog:s,getDefaultLanguageData:r,emitter:c,getTranslationStatus:d,getTranslationResourceFile:i,uploadTranslation:p,downloadTranslation:g,defaultLanguage:o,translationLanguages:u,modelContext:f,initializationPromise:l,invokeWhenInitialized:h,uploadTranslations:b,downloadTranslations:L}}});var ct=function(){var t=this,n=t._self._c,s=t._self._setupProxy;return n("div",[n("k-dropdown-item",{attrs:{icon:"lingohub-upload-cloud"},on:{click:function(r){return s.invokeWhenInitialized(s.uploadTranslations)}}},[t._v(" "+t._s(s.panel.t("johannschopplich.lingohub.upload"))+" ")]),n("hr"),n("k-dropdown-item",{attrs:{icon:"lingohub-download-cloud"},on:{click:function(r){return s.invokeWhenInitialized(s.downloadTranslations)}}},[t._v(" "+t._s(s.panel.t("johannschopplich.lingohub.download"))+" ")])],1)},ut=[],lt=k(it,ct,ut);const pt=lt.exports,ft={__name:"LingohubButtonGroup",setup(e){const t=w(),{openFieldsDialog:n}=I(),{emitter:s,getTranslationStatus:r,getTranslationResourceFile:c}=O(),d=t.languages.find(l=>l.default);d||t.notification.error("The default language could not be found. Please make sure to set a default language in your Kirby installation.");const i=R(!0),p=R(!1),g=R(),o=R();Z(()=>[t.view.path,t.language.code],([l])=>{l.startsWith("pages/")&&f()},{immediate:!0}),s.on("translationUpdate",()=>{setTimeout(f,2e3)});function u(){g.value.toggle()}async function f(){const l=await r(),h=await c(l,d.code);o.value=await c(l,t.language.code),p.value=h&&o.value?o.value.statuses.APPROVED>=h.statuses.APPROVED:void 0,i.value=!1}return{__sfc:!0,panel:t,openFieldsDialog:n,emitter:s,getTranslationStatus:r,getTranslationResourceFile:c,defaultLanguage:d,isLoading:i,isApproved:p,dropdownContent:g,currentLanguageResourceFile:o,toggle:u,loadLingohubData:f,LingohubDropdownContent:pt}}};var dt=function(){var t=this,n=t._self._c,s=t._self._setupProxy;return n("k-button-group",{attrs:{layout:"collapsed"}},[n("k-button",{attrs:{text:s.isLoading?void 0:s.isApproved?s.panel.t("johannschopplich.lingohub.status.approved"):s.currentLanguageResourceFile?s.panel.t("johannschopplich.lingohub.status.inTranslation"):s.panel.t("johannschopplich.lingohub.status.notUploaded"),icon:s.isLoading?"loader":s.isApproved?"check":s.currentLanguageResourceFile?"info":"question",responsive:"",theme:s.isLoading?void 0:s.isApproved?"positive":s.currentLanguageResourceFile?"blue-icon":"notice-icon",variant:"filled",size:"sm"},on:{click:function(r){s.currentLanguageResourceFile&&s.openFieldsDialog({submitButton:s.panel.t("confirm"),fields:{languageCode:{type:"info",label:"Language Code",text:s.currentLanguageResourceFile.languageCode},approved:{type:"info",theme:"white",label:"Approved",text:`${s.currentLanguageResourceFile.statuses.APPROVED}`},draft:{type:"info",theme:"white",label:"Draft",text:`${s.currentLanguageResourceFile.statuses.DRAFT}`},notTranslated:{type:"info",theme:"white",label:"Not Translated",text:`${s.currentLanguageResourceFile.statuses.NOT_TRANSLATED}`},translated:{type:"info",theme:"white",label:"Translated",text:`${s.currentLanguageResourceFile.statuses.TRANSLATED}`},failedChecks:{type:"info",theme:"white",label:"Failed Quality Checks",text:`${s.currentLanguageResourceFile.failingLingochecksCount}`},lastUpdated:{type:"date",label:"Last Updated At",time:!1,disabled:!0}},value:{lastUpdated:s.currentLanguageResourceFile.segmentsUpdatedAt}})}}}),n("k-button",{attrs:{dropdown:!0,text:s.panel.t("johannschopplich.lingohub.label"),icon:"lingohub-global",responsive:"text",variant:"filled",size:"sm"},on:{click:function(r){return s.toggle()}}}),n("k-dropdown-content",{ref:"dropdownContent"},[n(s.LingohubDropdownContent)],1)],1)},ht=[],gt=k(ft,dt,ht);const W=gt.exports,yt={"lingohub-global":'<path fill="currentColor" d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m-2.29-2.333A17.9 17.9 0 0 1 8.027 13H4.062a8.01 8.01 0 0 0 5.648 6.667M10.03 13c.151 2.439.848 4.73 1.97 6.752A15.9 15.9 0 0 0 13.97 13zm9.908 0h-3.965a17.9 17.9 0 0 1-1.683 6.667A8.01 8.01 0 0 0 19.938 13M4.062 11h3.965A17.9 17.9 0 0 1 9.71 4.333A8.01 8.01 0 0 0 4.062 11m5.969 0h3.938A15.9 15.9 0 0 0 12 4.248A15.9 15.9 0 0 0 10.03 11m4.259-6.667A17.9 17.9 0 0 1 15.973 11h3.965a8.01 8.01 0 0 0-5.648-6.667" />',"lingohub-upload-cloud":'<path fill="currentColor" d="m12 12.586l4.243 4.242l-1.415 1.415L13 16.415V22h-2v-5.587l-1.828 1.83l-1.415-1.415zM12 2a7 7 0 0 1 6.954 6.194A5.5 5.5 0 0 1 18 18.978v-2.014a3.5 3.5 0 1 0-1.111-6.91a5 5 0 1 0-9.777 0a3.5 3.5 0 0 0-1.292 6.88l.18.03v2.014a5.5 5.5 0 0 1-.954-10.784A7 7 0 0 1 12 2" />',"lingohub-download-cloud":'<path fill="currentColor" d="M13 13v5.585l1.828-1.828l1.415 1.415L12 22.414l-4.243-4.242l1.415-1.415L11 18.585V13zM12 2a7 7 0 0 1 6.954 6.194A5.5 5.5 0 0 1 18 18.978v-2.014a3.5 3.5 0 1 0-1.111-6.91a5 5 0 1 0-9.777 0a3.5 3.5 0 0 0-1.292 6.88l.18.03v2.014a5.5 5.5 0 0 1-.954-10.784A7 7 0 0 1 12 2" />'};function mt(e){H()||e.mixin({mounted(){if(this.$options.name!=="k-header")return;const{panel:t}=window;if(!t.multilang||!t.view.path.startsWith("pages/"))return;const n=this.$children.find(c=>c.$options.name==="k-button-group");if(!n)return;const s=new e({render:c=>c(W)}).$mount(),r=n.$el.querySelector(".k-languages-dropdown");r&&(r.before(s.$el),this.$forceUpdate())}})}window.panel.plugin("johannschopplich/lingohub",{sections:{"lingohub-status":at},viewButtons:{lingohub:W},icons:yt,use:[mt]})})();
